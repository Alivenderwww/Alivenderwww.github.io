<!DOCTYPE html><html class=no-js lang=zh><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content=一个技术博客，分享编程和技术心得 name=description><meta content=Alivender name=author><link href=https://alivenderwww.github.io/blogs/FPGAWeblab/06hdmi/ rel=canonical><link href=../05pwm/ rel=prev><link href=../11_password_lock/ rel=next><link href=../../../feed_rss_created.xml rel=alternate title="RSS 订阅" type=application/rss+xml><link href=../../../feed_rss_updated.xml rel=alternate title="已更新内容的 RSS 订阅" type=application/rss+xml><link href=../../../img/logo.png rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name=generator><title>基础-6-HDMI显示 - Alivender's Blog</title><link href=../../../assets/stylesheets/main.484c7ddc.min.css rel=stylesheet><link href=../../../assets/stylesheets/palette.ab4e12ef.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../../css/timeago.css rel=stylesheet><link href=../../../css/heti.css rel=stylesheet><link href=../../../stylesheets/font.css rel=stylesheet><link href=../../../stylesheets/extra.css rel=stylesheet><link href=../../../stylesheets/toc.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.7.0/style.css rel=stylesheet><link href=https://alivender-assets.oss-cn-beijing.aliyuncs.com/alivenderwww_github_io/fonts/FZLanTY/FZLanTY.font.css rel=stylesheet><link href=https://font.kivo.wiki/Blueaka/Blueaka.css rel=stylesheet><link href=https://font.kivo.wiki/Blueaka_Bold/Blueaka_Bold.css rel=stylesheet><link href=https://blog.dpp-alivender.life/stylesheets/comments_light.css rel=stylesheet><link href=https://blog.dpp-alivender.life/stylesheets/comments_dark.css rel=stylesheet><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../../assets/stylesheets/glightbox.min.css rel=stylesheet><script src=../../../assets/javascripts/glightbox.min.js></script><style id=glightbox-style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body data-md-color-accent=mycolor_light data-md-color-primary=mycolor_light data-md-color-scheme=default dir=ltr> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#_1> 跳转至 </a> </div> <div data-md-component=announce> </div> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Determine classes --> <!-- Header --> <header class=md-header data-md-component=header> <nav aria-label=页眉 class="md-header__inner md-grid"> <!-- Link to home --> <a aria-label="Alivender's Blog" class="md-header__button md-logo" data-md-component=logo href=../../.. title="Alivender's Blog"> <img alt=logo src=../../../img/logo.png> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <!-- Header title --> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Alivender's Blog </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 基础-6-HDMI显示 </span> </div> </div> </div> <!-- Spectrum Button and Config Menu --> <div class=md-header__option id=spectrum-button-container> <button class="md-header__button md-icon" id=spectrum-button title=启动音频频谱> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg> <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z" fill=currentColor></path> </svg> </button> <!-- Config Menu --> <div id=spectrum-config-menu> <!-- FFT Size --> <div style="margin-bottom: 5px;"> <div style=display:flex;justify-content:space-between;margin-bottom:5px;> <span>FFT-Size</span> <input class=spectrum-editable-value id=fft-value type=text> </div> <input id=fft-slider max=10 min=0 style=width:100% type=range value=6> </div> <!-- Segments --> <div style="margin-bottom: 5px;"> <div style=display:flex;justify-content:space-between;margin-bottom:5px;> <span>Segments</span> <input class=spectrum-editable-value id=seg-value type=text> </div> <input id=seg-slider max=4096 min=8 step=8 style=width:100% type=range value=64> </div> <!-- Smooth Time --> <div> <div style=display:flex;justify-content:space-between;margin-bottom:5px;> <span>Smooth-Time</span> <input class=spectrum-editable-value id=smooth-value type=text> </div> <input id=smooth-slider max=1 min=0 step=0.01 style=width:100% type=range value=0.05> </div> </div> </div> <!-- Custom Color scheme toggle --> <button class="md-header__option md-icon" id=theme-toggle-btn title=切换主题色彩> <svg id=blue-theme-icon viewbox="0 0 100 100" xmlns=http://www.w3.org/2000/svg> <path d=M3.61,1.11c-.72,1.8-1.65,4.68-1.74,8.27-.19,7.57,3.46,13.41,7.12,19.25,1.45,2.32,3.66,5.53,6.83,9.08-2.49,2.77-7.54,9.14-9.62,18.85-1.84,8.56-.48,15.62.46,19.19-1.86,1.95-5.34,6.21-6.28,12.49-.39,2.62-.97,6.46,1.17,10.17,3.29,5.7,10.27,6.39,11.18,6.47-.4-1.22-.77-2.64-1.04-4.26-.29-1.73-.39-3.31-.39-4.65,1.31,1.53,3.23,3.27,6.41,5.07,4.82,2.74,8.41,3.07,23.9,3.04,16.22-.04,20.33-.38,25.36-3.38,2.78-1.65,4.95-3.13,6.16-4.5.12,1.82,0,4.15-.86,6.68-.19.56-.4,1.09-.62,1.58,1.63.17,4.44.2,7.09-1.28,5.65-3.14,6.12-10.6,6.26-12.7.59-8.93-5.3-15.3-6.62-16.65.64-3.75,1.33-10.83-.99-19.19-2.32-8.36-6.56-14.02-9.03-16.89,3.66-3.46,14.94-15.01,14.04-30.46-.15-2.62-.64-5.05-1.33-7.28-2.64.62-5.5,1.57-8.42,3-13.69,6.73-19.32,19.61-21.2,24.69-2.79-.22-5.85-.36-9.12-.34-3.23.02-6.24.19-9.01.44-2.09-5.16-8.08-17.75-21.79-24.04-2.74-1.26-5.42-2.1-7.93-2.65Z> </path> </svg> <svg id=purple-theme-icon viewbox="0 0 100 100" xmlns=http://www.w3.org/2000/svg> <path d=M19.46,0c.56,5.69.13,10.12-.37,13.12-.61,3.63-1.46,6.02-1.07,9.7.36,3.42,1.6,6.1,2.56,7.8-.54.99-1.15,2.74-2.73,3.99-1.86,1.48-3.72,3.37-6.22,5.66-4.11,3.76-6.8,9.59-8.73,11.34-1.25,1.13-2.21,2.14-2.9,2.72,1.71.59,4.65,1.36,8.33,1.07,3.55-.28,6.27-1.42,7.86-2.24-1.13,3.97-1.95,7.32-2.24,9.82-.71,6.05-.79,9.94-.47,14.39.2,2.82,1.76,5.13,2.99,6.12.21-.69.41-1.59.49-2.66.08-1.18-.01-2.2-.14-2.96.34,1.54,1.21,4.53,3.6,7.41,2.03,2.44,4.26,3.74,5.59,4.38-.15.55-.54,2.24.21,4.11.48,1.21,1.23,1.98,1.67,2.36-.99,2.64-.75,5.39.76,7.12.25.29,1.57,1.82,3.31,1.6,1.8-.23,3.05-2.22,3.24-4,.2-1.81-.68-3.63-2.23-4.7.21-.59.49-1.61.42-2.88-.08-1.57-.64-2.73-.96-3.3.63-.72,1.42-1.84,1.8-3.37.31-1.25.13-1.91.28-2.72.23-1.26,1.24-2.9,4.75-4.47,3.2.6,8.38.4,12.46.39,8.93-.02,16.5-3.23,19.96-8.23-.41,4.37-1.97,9.89-2.66,12.22.97-.34,2.12-.76,2.72-1.79-1.3,4.42-3.41,8.81-3.62,11.54,1.63-.19,4.01-.68,6.42-2.14,9.33-5.65,9.93-20.27,10.31-29.52.45-11,1.01-24.48-8.13-35.53-2.22-2.68-7.11-7.76-14.94-10.48-13.83-4.81-25.89,1.52-28.36,2.89-.21-1.99-.73-4.58-2-7.33C27.98,4.12,21.64.97,19.46,0Z> </path> </svg> </button> <!-- Color palette toggle --> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Color palette toggle --> <form class=md-header__option data-md-component=palette> <input aria-label=切换到深色模式 class=md-option data-md-color-accent=mycolor_light data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary=mycolor_light data-md-color-scheme=default id=__palette_0 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title=切换到深色模式> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input aria-label=切换到浅色模式 class=md-option data-md-color-accent=mycolor_dark data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary=mycolor_dark data-md-color-scheme=slate id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_0 hidden title=切换到浅色模式> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <!-- User preference: color palette --> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- User preference: color palette --> <script>
  var palette = __md_get("__palette")
  if (palette && palette.color) {

    /* Retrieve color palette for system preference */
    if (palette.color.media === "(prefers-color-scheme)") {
      var media = matchMedia("(prefers-color-scheme: light)")
      var input = document.querySelector(media.matches
        ? "[data-md-color-media='(prefers-color-scheme: light)']"
        : "[data-md-color-media='(prefers-color-scheme: dark)']"
      )

      /* Retrieve colors for system preference */
      palette.color.media   = input.getAttribute("data-md-color-media"),
      palette.color.scheme  = input.getAttribute("data-md-color-scheme"),
      palette.color.primary = input.getAttribute("data-md-color-primary"),
      palette.color.accent  = input.getAttribute("data-md-color-accent")
    }

    /* Set color palette */
    for (var [key, value] of Object.entries(palette.color))
      document.body.setAttribute("data-md-color-" + key, value)
  }
</script> <!-- Site language selector --> <!-- Button to open search modal --> <!-- Check if search is actually enabled - see https://t.ly/DT_0V --> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=搜索 autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=搜索 required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label=查找 class=md-search__options> <a aria-label=分享 class="md-search__icon md-icon" data-clipboard data-clipboard-text data-md-component=search-share href=javascript:void(0) tabindex=-1 title=分享> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button aria-label=清空当前内容 class="md-search__icon md-icon" tabindex=-1 title=清空当前内容 type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix tabindex=0> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <!-- Repository information --> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/Alivenderwww/Alivenderwww.github.io/ title=前往仓库> <div class="md-source__icon md-icon"> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> <!-- Custom styles for color scheme toggle --> <style>
    #theme-toggle-btn {
      padding: 0px 0px;
      transition: all 0.3s ease;
      display: flex;
      flex-shrink: 0;
      align-items: center;
      justify-content: center;
      width: 30px;
      position: relative;
    }

    #theme-toggle-btn svg {
      width: 26px;
      height: 26px;
      fill: white;
      transition: all 0.3s ease-out;
    }

    #theme-toggle-btn svg:hover {
      fill: var(--md-primary-blue);
      fill-opacity: 0.5;
    }
  </style> </header> <div class=md-container data-md-component=container> <nav aria-label=标签 class=md-tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a class=md-tabs__link href=../../..> 首页 </a> </li> <li class=md-tabs__item> <a href=../../../blog/ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../../about/ class=md-tabs__link> 关于 </a> </li> <li class=md-tabs__item> <a href=../../mkdocs/ class=md-tabs__link> mkdocs </a> </li> <li class=md-tabs__item> <a href=../../DJIflight/ class=md-tabs__link> DJIflight </a> </li> <li class=md-tabs__item> <a href=../../MathNote/ class=md-tabs__link> MathNote </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> FPGAWeblab </a> </li> <li class=md-tabs__item> <a href=../../GEMM/cal_full_conv/ class=md-tabs__link> GEMM </a> </li> <li class=md-tabs__item> <a href=../../../gallery/ class=md-tabs__link> 画廊 </a> </li> <li class=md-tabs__item> <a href=../../../flinks/ class=md-tabs__link> 友链 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=导航栏 class="md-nav md-nav--primary md-nav--lifted" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="Alivender's Blog" class="md-nav__button md-logo" data-md-component=logo href=../../.. title="Alivender's Blog"> <img alt=logo src=../../../img/logo.png> </a> Alivender's Blog </label> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/Alivenderwww/Alivenderwww.github.io/ title=前往仓库> <div class="md-source__icon md-icon"> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../../..> <span class=md-ellipsis> 首页 </span> </a> </li> <li class=md-nav__item> <a href=../../../blog/ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> <span class=md-ellipsis> 关于 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_4 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../mkdocs/ class=md-nav__link> <span class=md-ellipsis> mkdocs </span> </a> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=false aria-labelledby=__nav_4_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> mkdocs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../mkdocs/Mkdocs_Metrial_font_rendering/ class=md-nav__link> <span class=md-ellipsis> 关于Mkdocs Metrial自定义字体渲染和优化 </span> </a> </li> <li class=md-nav__item> <a href=../../mkdocs/spine_test/ class=md-nav__link> <span class=md-ellipsis> 基于pixi-spine与kivo.wiki的《蔚蓝档案》角色记忆大厅加载技术 </span> </a> </li> <li class=md-nav__item> <a href=../../mkdocs/giscus_color/ class=md-nav__link> <span class=md-ellipsis> 如何实现Giscus评论区的自动跟随主题配置 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_5 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../DJIflight/ class=md-nav__link> <span class=md-ellipsis> DJIflight </span> </a> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=false aria-labelledby=__nav_5_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> DJIflight </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../DJIflight/algorithm-flow-and-problems/ class=md-nav__link> <span class=md-ellipsis> DJI 飞行算法流程和问题 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_6 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../MathNote/ class=md-nav__link> <span class=md-ellipsis> MathNote </span> </a> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=false aria-labelledby=__nav_6_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> MathNote </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_6_2 type=checkbox> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> 大学物理 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_6_2_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> 大学物理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../MathNote/Daxuewuli/1/ class=md-nav__link> <span class=md-ellipsis> 从零开始的Python速切大物实验🏃 </span> </a> </li> <li class=md-nav__item> <a href=../../MathNote/Daxuewuli/2/ class=md-nav__link> <span class=md-ellipsis> 静电场 高斯定理 </span> </a> </li> <li class=md-nav__item> <a href=../../MathNote/Daxuewuli/3/ class=md-nav__link> <span class=md-ellipsis> 刚体的转动 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_6_3 type=checkbox> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> 高等数学 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_6_3_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> 高等数学 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../MathNote/Gaodengshuxue/1/ class=md-nav__link> <span class=md-ellipsis> 多元函数的基本概念 </span> </a> </li> <li class=md-nav__item> <a href=../../MathNote/Gaodengshuxue/2/ class=md-nav__link> <span class=md-ellipsis> 第八章 多元数量值函数积分学及其应用 </span> </a> </li> <li class=md-nav__item> <a href=../../MathNote/Gaodengshuxue/3/ class=md-nav__link> <span class=md-ellipsis> 第9章 二次型与二次曲面 </span> </a> </li> <li class=md-nav__item> <a href=../../MathNote/Gaodengshuxue/4/ class=md-nav__link> <span class=md-ellipsis> 第九章 向量值函数的曲线积分与曲面积分 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_6_4 type=checkbox> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> 电路理论 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_6_4_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> 电路理论 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../MathNote/Dianlulilun/1/ class=md-nav__link> <span class=md-ellipsis> 正弦交流电路 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_7 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../ class=md-nav__link> <span class=md-ellipsis> FPGAWeblab </span> </a> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=true aria-labelledby=__nav_7_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> FPGAWeblab </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../document/ class=md-nav__link> <span class=md-ellipsis> 基于紫光同创FPGA的远程实验室-系统设计报告 </span> </a> </li> <li class=md-nav__item> <a href=../01water_led/ class=md-nav__link> <span class=md-ellipsis> 基础-1-流水灯 </span> </a> </li> <li class=md-nav__item> <a href=../02key/ class=md-nav__link> <span class=md-ellipsis> 基础-2-按键检测与消抖 </span> </a> </li> <li class=md-nav__item> <a href=../03led_display/ class=md-nav__link> <span class=md-ellipsis> 基础-3-数码管实验 </span> </a> </li> <li class=md-nav__item> <a href=../04matrixkey/ class=md-nav__link> <span class=md-ellipsis> 基础-4-矩阵键盘实验 </span> </a> </li> <li class=md-nav__item> <a href=../05pwm/ class=md-nav__link> <span class=md-ellipsis> 基础-5-PWM呼吸灯 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 基础-6-HDMI显示 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 基础-6-HDMI显示 </span> </a> <nav aria-label=目录 class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#_1> <span class=md-ellipsis> 章节导读 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_2> <span class=md-ellipsis> 理论学习 </span> </a> <nav aria-label=理论学习 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#vga> <span class=md-ellipsis> VGA时序 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#ms7210> <span class=md-ellipsis> MS7210芯片 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_3> <span class=md-ellipsis> 实战演练 </span> </a> <nav aria-label=实战演练 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_4> <span class=md-ellipsis> 实验目标 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_5> <span class=md-ellipsis> 硬件资源 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_6> <span class=md-ellipsis> 程序设计 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_7> <span class=md-ellipsis> 仿真验证 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_8> <span class=md-ellipsis> 上板验证 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_9> <span class=md-ellipsis> 章末总结 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../11_password_lock/ class=md-nav__link> <span class=md-ellipsis> 进阶-1-密码锁实验 </span> </a> </li> <li class=md-nav__item> <a href=../12_sfp/ class=md-nav__link> <span class=md-ellipsis> 进阶-2-光纤通信 </span> </a> </li> <li class=md-nav__item> <a href=../13_frequency_meter/ class=md-nav__link> <span class=md-ellipsis> 进阶-3-频率计 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_8 type=checkbox> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> GEMM </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_8_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> GEMM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../GEMM/cal_full_conv/ class=md-nav__link> <span class=md-ellipsis> 脉动阵列计算全连接层 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_9 type=checkbox> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> 画廊 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_9_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> 画廊 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../gallery/ class=md-nav__link> <span class=md-ellipsis> Gallery </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_10 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../../flinks/ class=md-nav__link> <span class=md-ellipsis> 友链 </span> </a> </div> <nav aria-expanded=false aria-labelledby=__nav_10_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> 友链 </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=目录 class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#_1> <span class=md-ellipsis> 章节导读 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_2> <span class=md-ellipsis> 理论学习 </span> </a> <nav aria-label=理论学习 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#vga> <span class=md-ellipsis> VGA时序 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#ms7210> <span class=md-ellipsis> MS7210芯片 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_3> <span class=md-ellipsis> 实战演练 </span> </a> <nav aria-label=实战演练 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_4> <span class=md-ellipsis> 实验目标 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_5> <span class=md-ellipsis> 硬件资源 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_6> <span class=md-ellipsis> 程序设计 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_7> <span class=md-ellipsis> 仿真验证 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_8> <span class=md-ellipsis> 上板验证 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_9> <span class=md-ellipsis> 章末总结 </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a class="md-content__button md-icon" href=https://github.com/Alivenderwww/Alivenderwww.github.io/blob/main/docs/blogs/FPGAWeblab/06hdmi.md rel=edit title=编辑此页> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg> </a> <a class="md-content__button md-icon" href=https://github.com/Alivenderwww/Alivenderwww.github.io/raw/main/docs/blogs/FPGAWeblab/06hdmi.md title=查看本页的源代码> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg> </a> <h1>基础<span class=heti-skip><span class=heti-spacing> </span>-6-HDMI<span class=heti-spacing> </span></span>显示</h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"></path></svg></span> 约<span class=heti-skip><span class=heti-spacing> </span>3062<span class=heti-spacing> </span></span>个字 <span class=twemoji><svg viewbox="0 0 576 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l73.3-73.4c12.5-12.5 12.5-32.8 0-45.3z"></path></svg></span> <span>331<span class=heti-spacing> </span></span>行代码 <span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"></path></svg></span> <span>16<span class=heti-spacing> </span></span>张图片 <span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"></path></svg></span> 预计阅读时间<span class=heti-skip><span class=heti-spacing> </span>14<span class=heti-spacing> </span></span>分钟</p> </div> <h2 id=_1>章节导读<a class=headerlink href=#_1 title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h2> <p>随着多媒体技术的快速发展，高清显示已成为嵌入式系统与<span class=heti-skip><span class=heti-spacing> </span>FPGA<span class=heti-spacing> </span></span>应用中不可或缺的一部分。HDMI（High-Definition Multimedia Interface）作为目前最主流的视频数字传输标准，广泛应用于电视、显示器、笔记本、摄像头等各类终端设备中。相比传统的模拟<span class=heti-skip><span class=heti-spacing> </span>VGA<span class=heti-spacing> </span></span>接口，<span>HDMI<span class=heti-spacing> </span></span>具有传输带宽高、支持音视频同步、无压缩信号传输等优点，能更好地满足现代图像处理和显示系统的需求。</p> <p>在<span class=heti-skip><span class=heti-spacing> </span>FPGA<span class=heti-spacing> </span></span>开发中，掌握<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>显示技术不仅是实现图像<span class=heti-skip><span class=heti-spacing> </span>/<span class=heti-spacing> </span></span>视频输出的基础能力，更是后续图像识别、视频监控、图形用户界面（GUI）等复杂系统设计的前提。因此，本实验以<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>显示为核心内容，带领大家从零开始构建一个完整的视频输出链路。通过配置显示参数、生成时序控制信号、输出<span class=heti-skip><span class=heti-spacing> </span>RGB<span class=heti-spacing> </span></span>图像数据等关键步骤，最终实现在<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>接口上稳定输出画面。</p> <p>在本次实验中我们将学习利用实验板的<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>接口和<span class=heti-skip><span class=heti-spacing> </span>MS7210<span class=heti-spacing> </span></span>芯片，进行<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>显示实验的设计。</p> <h2 id=_2>理论学习<a class=headerlink href=#_2 title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h2> <h3 id=vga><span>VGA<span class=heti-spacing> </span></span>时序<a class=headerlink href=#vga title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h3> <p><span>VGA<span class=heti-spacing> </span></span>显示是在行同步和帧同步（场同步）的信号同步下，按照从上到下，从左到右的顺序，扫描到显示屏上。<span>VGA<span class=heti-spacing> </span></span>扫描方式见下图所示：</p> <figure id=__figure-caption_1> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_1.png><img alt=VGA扫描顺序 src=../images/06_1.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 1.<span class=heti-spacing> </span></span></span><span>VGA<span class=heti-spacing> </span></span>扫描顺序</p> </figcaption> </figure> <p>如上图所示，每一帧图像都是从左上角开始，逐行扫描形成，所以规定最左上角的像素点为第一个像素点，坐标是（0，0<heti-adjacent class=heti-adjacent-half>）</heti-adjacent>，以这个像素为起点，向右<span class=heti-skip><span class=heti-spacing> </span>x<span class=heti-spacing> </span></span>坐标逐渐增大，向下<span class=heti-skip><span class=heti-spacing> </span>y<span class=heti-spacing> </span></span>坐标逐渐增大，重复若干次后扫描到右下角完成一帧图像的扫描，扫描完成后进行图像消隐，随后指针跳回左上角重新进行新一帧的扫描。</p> <p>在扫描的过程中会对每一个像素点进行单独赋值，使每个像素点显示对应色彩信息，当扫描速度足够快，加之人眼的视觉暂留特性，我们会看到一幅完整的图片，这就是<span class=heti-skip><span class=heti-spacing> </span>VGA<span class=heti-spacing> </span></span>显示的原理。</p> <p><span>VGA<span class=heti-spacing> </span></span>显示除了要有像素点的信息，还需要有行同步（HSync）和场同步（VSync）两个信号辅助显示。行同步信号规定了一行像素的开始与结束，场同步信号规定了一帧图像的开始与结束。在<span class=heti-skip><span class=heti-spacing> </span>VESA DMT 1.12<span class=heti-spacing> </span></span>版本的标准文档中给出的<span class=heti-skip><span class=heti-spacing> </span>VGA<span class=heti-spacing> </span></span>时序图如下图所示：</p> <figure id=__figure-caption_2> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_2.png><img alt=VGA标准时序 src=../images/06_2.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 2.<span class=heti-spacing> </span></span></span><span>VGA<span class=heti-spacing> </span></span>标准时序</p> </figcaption> </figure> <p>行同步时序如下图所示：</p> <figure id=__figure-caption_3> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_3.png><img alt=行同步时序 src=../images/06_3.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 3.<span class=heti-spacing> </span></span></span>行同步时序</p> </figcaption> </figure> <p>行同步的一个扫周期要经过<span class=heti-skip><span class=heti-spacing> </span>6<span class=heti-spacing> </span></span>个部分，分别是<span><span class=heti-spacing> </span>Sync</span>（同步<heti-adjacent class=heti-adjacent-half>）</heti-adjacent>、 Back Porch（后沿<heti-adjacent class=heti-adjacent-half>）</heti-adjacent>、 Left Border（左边框<heti-adjacent class=heti-adjacent-half>）</heti-adjacent>、 “Addressable” Video（有效图像<heti-adjacent class=heti-adjacent-half>）</heti-adjacent>、 Right Border（右边框<heti-adjacent class=heti-adjacent-half>）</heti-adjacent>、 Front Porch（前沿<heti-adjacent class=heti-adjacent-half>）</heti-adjacent>，这些过程的长度都是以像素为单位的，也就是以像素时钟为单位，例如<span class=heti-skip><span class=heti-spacing> </span>Sync<span class=heti-spacing> </span></span>的值为<span><span class=heti-spacing> </span>96</span>，也就意味着<span class=heti-skip><span class=heti-spacing> </span>Sync<span class=heti-spacing> </span></span>阶段要经历<span class=heti-skip><span class=heti-spacing> </span>96<span class=heti-spacing> </span></span>个像素时钟。<span>HSync<span class=heti-spacing> </span></span>信号会在<span class=heti-skip><span class=heti-spacing> </span>Sync<span class=heti-spacing> </span></span>同步阶段拉高（不同的芯片可能有不同标准）以确定新一行的开始与上一行的结束。而完整的一行像素很多，但有效的真正能显示在屏幕上的像素只有 “Addressable” Video（有效图像）部分的像素，其他阶段的像素均无效，无法显示在屏幕中。</p> <p>场同步时序如下图所示：</p> <figure id=__figure-caption_4> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_4.png><img alt=场同步时序 src=../images/06_4.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 4.<span class=heti-spacing> </span></span></span>场同步时序</p> </figcaption> </figure> <p>场同步时序与行同步时序相同，也是分为<span class=heti-skip><span class=heti-spacing> </span>6<span class=heti-spacing> </span></span>个部分，在<span class=heti-skip><span class=heti-spacing> </span>Sync<span class=heti-spacing> </span></span>同步阶段拉高，标志着一帧的结束和新一帧的开始，其中像素只有在“Addressable” Video（有效图像）阶段才有效，其他阶段均无效。而场同步信号的基本单位是行，比如<span class=heti-skip><span class=heti-spacing> </span>Sync<span class=heti-spacing> </span></span>的值为<span><span class=heti-spacing> </span>2</span>，也就意味着<span class=heti-skip><span class=heti-spacing> </span>Sync<span class=heti-spacing> </span></span>同步阶段要经历两行。</p> <p>那么我们将行同步和场同步信号结合起来，遍可以得到一帧图像的样貌，如下图所示：</p> <figure id=__figure-caption_5> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_5.png><img alt=一帧图像组成示意图 src=../images/06_5.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 5.<span class=heti-spacing> </span></span></span>一帧图像组成示意图</p> </figcaption> </figure> <p>可以看到在行场同步信号构成了一个二维坐标系，原点在左上方，中间遍形成了一帧图像，而真正能显示在屏幕中的图像只有 “Addressable” Video（有效图像）部分。</p> <p>现在我们知道了行同步和场同步都要经历<span class=heti-skip><span class=heti-spacing> </span>6<span class=heti-spacing> </span></span>个部分，那么这些部分的长度都是如何规定的呢？<span>VGA<span class=heti-spacing> </span></span>行时序对行同步时间、 消隐时间、 行视频有效时间和行前肩时间有特定的规范， 场时序也是如此。 常用<span class=heti-skip><span class=heti-spacing> </span>VGA<span class=heti-spacing> </span></span>分辨率时序参数如下表所示：</p> <figure id=__table-caption_1> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_6.png><img alt=常用VGA分辨率时序参数 src=../images/06_6.png></a></p> <figcaption> <p><span class=caption-prefix><span>Table 1.<span class=heti-spacing> </span></span></span>常用<span class=heti-skip><span class=heti-spacing> </span>VGA<span class=heti-spacing> </span></span>分辨率时序参数</p> </figcaption> </figure> <h3 id=ms7210><span>MS7210<span class=heti-spacing> </span></span>芯片<a class=headerlink href=#ms7210 title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h3> <p><span>MS7210<span class=heti-spacing> </span></span>是一款<span class=heti-skip><span class=heti-spacing> </span>HD<span class=heti-spacing> </span></span>发送芯片，支持<span class=heti-skip><span class=heti-spacing> </span>4K@30Hz<span class=heti-spacing> </span></span>的视频<span class=heti-skip><span class=heti-spacing> </span>3D<span class=heti-spacing> </span></span>传输格式。可以支持的最高分辨率高达<span><span class=heti-spacing> </span>4K@30Hz</span>，最高采样率达到<span><span class=heti-spacing> </span>300MHz</span>。<span>MS7210<span class=heti-spacing> </span></span>支持<span class=heti-skip><span class=heti-spacing> </span>YUV<span class=heti-spacing> </span></span>和<span class=heti-skip><span class=heti-spacing> </span>RGB<span class=heti-spacing> </span></span>之间的色彩空间转换，数字接口支持<span class=heti-skip><span class=heti-spacing> </span>YUV<span class=heti-spacing> </span></span>以及<span class=heti-skip><span class=heti-spacing> </span>RGB<span class=heti-spacing> </span></span>格式输入。<span>MS7210<span class=heti-spacing> </span></span>的<span class=heti-skip><span class=heti-spacing> </span>IIS<span class=heti-spacing> </span></span>接口以及<span class=heti-skip><span class=heti-spacing> </span>S/PDIF<span class=heti-spacing> </span></span>接口支持高清音频的传输，其中<span class=heti-skip><span class=heti-spacing> </span>S/PDIF<span class=heti-spacing> </span></span>接口既可以兼容<span class=heti-skip><span class=heti-spacing> </span>IEC61937<span class=heti-spacing> </span></span>标准下的压缩音频传输，同时还支持高比特音频（HBR）的传输，在高比特音频（HBR）模式下，音频采样率最高为<span><span class=heti-spacing> </span>768KHz</span>。<span>MS7210<span class=heti-spacing> </span></span>的<span class=heti-skip><span class=heti-spacing> </span>IIC<span class=heti-spacing> </span></span>地址可以根据<span class=heti-skip><span class=heti-spacing> </span>SA<span class=heti-spacing> </span></span>引脚进行选择。当<span class=heti-skip><span class=heti-spacing> </span>SA<span class=heti-spacing> </span></span>引脚上拉到电源电压或者悬空时，地址为<span><span class=heti-spacing> </span>OxB2</span>。当<span class=heti-skip><span class=heti-spacing> </span>SA<span class=heti-spacing> </span></span>引脚连接到<span class=heti-skip><span class=heti-spacing> </span>GND<span class=heti-spacing> </span></span>时，地址为<span><span class=heti-spacing> </span>0x56</span>。</p> <figure id=__figure-caption_6> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_7.png><img alt=MS7210芯片 src=../images/06_7.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 6.<span class=heti-spacing> </span></span></span><span>MS7210<span class=heti-spacing> </span></span>芯片</p> </figcaption> </figure> <figure id=__figure-caption_7> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_8.png><img alt=MS7210功能框图 src=../images/06_8.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 7.<span class=heti-spacing> </span></span></span><span>MS7210<span class=heti-spacing> </span></span>功能框图</p> </figcaption> </figure> <p><span>MS7210<span class=heti-spacing> </span></span>芯片可以通过<span class=heti-skip><span class=heti-spacing> </span>IIC<span class=heti-spacing> </span></span>协议对内部寄存器进行配置，有关芯片寄存器配置需要向芯片厂家进行申请。</p> <h2 id=_3>实战演练<a class=headerlink href=#_3 title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h2> <h3 id=_4>实验目标<a class=headerlink href=#_4 title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h3> <h3 id=_5>硬件资源<a class=headerlink href=#_5 title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h3> <p>实验板共有一个<span class=heti-skip><span class=heti-spacing> </span>HDMI-OUT<span class=heti-spacing> </span></span>接口，由<span class=heti-skip><span class=heti-spacing> </span>MS7210<span class=heti-spacing> </span></span>驱动，一个<span class=heti-skip><span class=heti-spacing> </span>HDMI-IN<span class=heti-spacing> </span></span>接口，由<span class=heti-skip><span class=heti-spacing> </span>MS7200<span class=heti-spacing> </span></span>驱动。</p> <figure id=__figure-caption_8> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_9.png><img alt=板载HDMI芯片 src=../images/06_9.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 8.<span class=heti-spacing> </span></span></span>板载<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>芯片</p> </figcaption> </figure> <p>实验箱配备一个小型<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>显示器，该显示器<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>接口与<span class=heti-skip><span class=heti-spacing> </span>HDMI-OUT<span class=heti-spacing> </span></span>接口连接，图像可以显示在显示屏中，通过摄像头可以在网站观察现象</p> <figure id=__figure-caption_9> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_10.png><img alt=实验箱显示器 src=../images/06_10.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 9.<span class=heti-spacing> </span></span></span>实验箱显示器</p> </figcaption> </figure> <h3 id=_6>程序设计<a class=headerlink href=#_6 title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h3> <p>在设计程序时，我们先对本实验工程有一个整体认知，首先来看一下<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>彩条显示实验的整体框图。</p> <figure id=__figure-caption_10> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_11.png><img alt=HDMI彩条显示整体框图 src=../images/06_11.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 10.<span class=heti-spacing> </span></span></span><span>HDMI<span class=heti-spacing> </span></span>彩条显示整体框图</p> </figcaption> </figure> <p>可见整个实验一共由好多个模块组成，下面是各个模块简介：</p> <figure id=__table-caption_2> <table> <thead> <tr> <th style="text-align: center;">模块名称</th> <th style="text-align: center;">功能描述</th> <th style="text-align: center;">备注</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">hdmi_top</td> <td style="text-align: center;">顶层模块</td> <td style="text-align: center;"></td> </tr> <tr> <td style="text-align: center;">ms7210_ctrl_iic_top</td> <td style="text-align: center;"><span>ms7210<span class=heti-spacing> </span></span>芯片配置和<span class=heti-skip><span class=heti-spacing> </span>iic<span class=heti-spacing> </span></span>顶层模块</td> <td style="text-align: center;"><em>参考小眼睛例程</em></td> </tr> <tr> <td style="text-align: center;">ms7210_ctl</td> <td style="text-align: center;"><span>ms7210<span class=heti-spacing> </span></span>芯片配置和时序控制模块</td> <td style="text-align: center;"><em>使用小眼睛例程</em></td> </tr> <tr> <td style="text-align: center;">iic_dri</td> <td style="text-align: center;"><span>iic<span class=heti-spacing> </span></span>驱动模块</td> <td style="text-align: center;"><em>使用小眼睛例程</em></td> </tr> <tr> <td style="text-align: center;">vga_ctrl</td> <td style="text-align: center;"><span>vga<span class=heti-spacing> </span></span>时序信号生成模块</td> <td style="text-align: center;"><em>参考野火例程</em></td> </tr> <tr> <td style="text-align: center;">vga_pic</td> <td style="text-align: center;"><span>vga<span class=heti-spacing> </span></span>像素数据生成模块</td> <td style="text-align: center;"><em>参考野火例程</em></td> </tr> </tbody> </table> <figcaption> <p><span class=caption-prefix><span>Table 2.<span class=heti-spacing> </span></span></span><span>HDMI<span class=heti-spacing> </span></span>彩条显示模块简介表</p> </figcaption> </figure> <p>本次实验主要完成<span class=heti-skip><span class=heti-spacing> </span>vga_ctrl<span class=heti-spacing> </span></span>和<span class=heti-skip><span class=heti-spacing> </span>vga_pic<span class=heti-spacing> </span></span>模块的设计。</p> <p>对于<span class=heti-skip><span class=heti-spacing> </span>vga_ctrl<span class=heti-spacing> </span></span>模块，我们主要完成<span><span class=heti-spacing> </span>hsync</span>，<span>vsync<span class=heti-spacing> </span></span>信号，<span>xy<span class=heti-spacing> </span></span>坐标，数据有效<span class=heti-skip><span class=heti-spacing> </span>rgb_valid<span class=heti-spacing> </span></span>信号的设计。经过我们前面的学习已经对<span class=heti-skip><span class=heti-spacing> </span>vga<span class=heti-spacing> </span></span>时序有了一定的了解，我们可以想象到这几个信号也只是一种计数器而已。</p> <p>本实验要实现<span class=heti-skip><span class=heti-spacing> </span>640x480<span class=heti-spacing> </span></span>的彩条显示，相关参数如下所示：</p> <div class="language-Verilog highlight"><table class=highlighttable><tbody><tr><th class=filename colspan=2><span class=filename>Verilog</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1> 1</a></span>
<span class=normal><a href=#__codelineno-0-2> 2</a></span>
<span class=normal><a href=#__codelineno-0-3> 3</a></span>
<span class=normal><a href=#__codelineno-0-4> 4</a></span>
<span class=normal><a href=#__codelineno-0-5> 5</a></span>
<span class=normal><a href=#__codelineno-0-6> 6</a></span>
<span class=normal><a href=#__codelineno-0-7> 7</a></span>
<span class=normal><a href=#__codelineno-0-8> 8</a></span>
<span class=normal><a href=#__codelineno-0-9> 9</a></span>
<span class=normal><a href=#__codelineno-0-10>10</a></span>
<span class=normal><a href=#__codelineno-0-11>11</a></span>
<span class=normal><a href=#__codelineno-0-12>12</a></span>
<span class=normal><a href=#__codelineno-0-13>13</a></span>
<span class=normal><a href=#__codelineno-0-14>14</a></span>
<span class=normal><a href=#__codelineno-0-15>15</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=c1>//parameter define</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a><span class=k>parameter</span><span class=w> </span><span class=n>H_SYNC</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d96</span><span class=w>  </span><span class=p>,</span><span class=w>   </span><span class=c1>//行同步</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=w>          </span><span class=n>H_BACK</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d40</span><span class=w>  </span><span class=p>,</span><span class=w>   </span><span class=c1>//行时序后沿</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a><span class=w>          </span><span class=n>H_LEFT</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d8</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//行时序左边框</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a><span class=w>          </span><span class=n>H_VALID</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d640</span><span class=w> </span><span class=p>,</span><span class=w>   </span><span class=c1>//行有效数据</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a><span class=w>          </span><span class=n>H_RIGHT</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d8</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//行时序右边框</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7></a><span class=w>          </span><span class=n>H_FRONT</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d8</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//行时序前沿</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8></a><span class=w>          </span><span class=n>H_TOTAL</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d800</span><span class=w> </span><span class=p>;</span><span class=w>   </span><span class=c1>//行扫描周期</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9></a><span class=k>parameter</span><span class=w> </span><span class=n>V_SYNC</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d2</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//场同步</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10></a><span class=w>          </span><span class=n>V_BACK</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d25</span><span class=w>  </span><span class=p>,</span><span class=w>   </span><span class=c1>//场时序后沿</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11></a><span class=w>          </span><span class=n>V_TOP</span><span class=w>     </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d8</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//场时序上边框</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12></a><span class=w>          </span><span class=n>V_VALID</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d480</span><span class=w> </span><span class=p>,</span><span class=w>   </span><span class=c1>//场有效数据</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13></a><span class=w>          </span><span class=n>V_BOTTOM</span><span class=w>  </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d8</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//场时序下边框</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14></a><span class=w>          </span><span class=n>V_FRONT</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d2</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//场时序前沿</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15></a><span class=w>          </span><span class=n>V_TOTAL</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d525</span><span class=w> </span><span class=p>;</span><span class=w>   </span><span class=c1>//场扫描周期</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>首先设计两个计数器<code>cnt_h</code>和<code>cnt_v</code>分别对像素和行进行计数，一个像素时钟过后<code>cnt_h</code>加一，一行过后<code>cnt_v</code>加一，扫描完一帧之后，计数器归零。</p> <p>而其他的状态信号则可以根据计数器的计数进行设计。<span>hsync<span class=heti-spacing> </span></span>信号只要<code>cnt_h &lt; H_SYNC</code>就拉高，<span>vsync<span class=heti-spacing> </span></span>信号类似。当计数到有效数据部分数据有效信号<span class=heti-skip><span class=heti-spacing> </span>rgb_valid<span class=heti-spacing> </span></span>就可以拉高，注意，由于时序逻辑有一个时钟周期的反应时间，所以<span class=heti-skip><span class=heti-spacing> </span>xy<span class=heti-spacing> </span></span>的坐标变化比<span class=heti-skip><span class=heti-spacing> </span>rgb_valid<span class=heti-spacing> </span></span>提前一个时钟周期。参考代码如下所示：</p> <div class="language-verilog highlight"><table class=highlighttable><tbody><tr><th class=filename colspan=2><span class=filename>Verilog</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>  1</a></span>
<span class=normal><a href=#__codelineno-1-2>  2</a></span>
<span class=normal><a href=#__codelineno-1-3>  3</a></span>
<span class=normal><a href=#__codelineno-1-4>  4</a></span>
<span class=normal><a href=#__codelineno-1-5>  5</a></span>
<span class=normal><a href=#__codelineno-1-6>  6</a></span>
<span class=normal><a href=#__codelineno-1-7>  7</a></span>
<span class=normal><a href=#__codelineno-1-8>  8</a></span>
<span class=normal><a href=#__codelineno-1-9>  9</a></span>
<span class=normal><a href=#__codelineno-1-10> 10</a></span>
<span class=normal><a href=#__codelineno-1-11> 11</a></span>
<span class=normal><a href=#__codelineno-1-12> 12</a></span>
<span class=normal><a href=#__codelineno-1-13> 13</a></span>
<span class=normal><a href=#__codelineno-1-14> 14</a></span>
<span class=normal><a href=#__codelineno-1-15> 15</a></span>
<span class=normal><a href=#__codelineno-1-16> 16</a></span>
<span class=normal><a href=#__codelineno-1-17> 17</a></span>
<span class=normal><a href=#__codelineno-1-18> 18</a></span>
<span class=normal><a href=#__codelineno-1-19> 19</a></span>
<span class=normal><a href=#__codelineno-1-20> 20</a></span>
<span class=normal><a href=#__codelineno-1-21> 21</a></span>
<span class=normal><a href=#__codelineno-1-22> 22</a></span>
<span class=normal><a href=#__codelineno-1-23> 23</a></span>
<span class=normal><a href=#__codelineno-1-24> 24</a></span>
<span class=normal><a href=#__codelineno-1-25> 25</a></span>
<span class=normal><a href=#__codelineno-1-26> 26</a></span>
<span class=normal><a href=#__codelineno-1-27> 27</a></span>
<span class=normal><a href=#__codelineno-1-28> 28</a></span>
<span class=normal><a href=#__codelineno-1-29> 29</a></span>
<span class=normal><a href=#__codelineno-1-30> 30</a></span>
<span class=normal><a href=#__codelineno-1-31> 31</a></span>
<span class=normal><a href=#__codelineno-1-32> 32</a></span>
<span class=normal><a href=#__codelineno-1-33> 33</a></span>
<span class=normal><a href=#__codelineno-1-34> 34</a></span>
<span class=normal><a href=#__codelineno-1-35> 35</a></span>
<span class=normal><a href=#__codelineno-1-36> 36</a></span>
<span class=normal><a href=#__codelineno-1-37> 37</a></span>
<span class=normal><a href=#__codelineno-1-38> 38</a></span>
<span class=normal><a href=#__codelineno-1-39> 39</a></span>
<span class=normal><a href=#__codelineno-1-40> 40</a></span>
<span class=normal><a href=#__codelineno-1-41> 41</a></span>
<span class=normal><a href=#__codelineno-1-42> 42</a></span>
<span class=normal><a href=#__codelineno-1-43> 43</a></span>
<span class=normal><a href=#__codelineno-1-44> 44</a></span>
<span class=normal><a href=#__codelineno-1-45> 45</a></span>
<span class=normal><a href=#__codelineno-1-46> 46</a></span>
<span class=normal><a href=#__codelineno-1-47> 47</a></span>
<span class=normal><a href=#__codelineno-1-48> 48</a></span>
<span class=normal><a href=#__codelineno-1-49> 49</a></span>
<span class=normal><a href=#__codelineno-1-50> 50</a></span>
<span class=normal><a href=#__codelineno-1-51> 51</a></span>
<span class=normal><a href=#__codelineno-1-52> 52</a></span>
<span class=normal><a href=#__codelineno-1-53> 53</a></span>
<span class=normal><a href=#__codelineno-1-54> 54</a></span>
<span class=normal><a href=#__codelineno-1-55> 55</a></span>
<span class=normal><a href=#__codelineno-1-56> 56</a></span>
<span class=normal><a href=#__codelineno-1-57> 57</a></span>
<span class=normal><a href=#__codelineno-1-58> 58</a></span>
<span class=normal><a href=#__codelineno-1-59> 59</a></span>
<span class=normal><a href=#__codelineno-1-60> 60</a></span>
<span class=normal><a href=#__codelineno-1-61> 61</a></span>
<span class=normal><a href=#__codelineno-1-62> 62</a></span>
<span class=normal><a href=#__codelineno-1-63> 63</a></span>
<span class=normal><a href=#__codelineno-1-64> 64</a></span>
<span class=normal><a href=#__codelineno-1-65> 65</a></span>
<span class=normal><a href=#__codelineno-1-66> 66</a></span>
<span class=normal><a href=#__codelineno-1-67> 67</a></span>
<span class=normal><a href=#__codelineno-1-68> 68</a></span>
<span class=normal><a href=#__codelineno-1-69> 69</a></span>
<span class=normal><a href=#__codelineno-1-70> 70</a></span>
<span class=normal><a href=#__codelineno-1-71> 71</a></span>
<span class=normal><a href=#__codelineno-1-72> 72</a></span>
<span class=normal><a href=#__codelineno-1-73> 73</a></span>
<span class=normal><a href=#__codelineno-1-74> 74</a></span>
<span class=normal><a href=#__codelineno-1-75> 75</a></span>
<span class=normal><a href=#__codelineno-1-76> 76</a></span>
<span class=normal><a href=#__codelineno-1-77> 77</a></span>
<span class=normal><a href=#__codelineno-1-78> 78</a></span>
<span class=normal><a href=#__codelineno-1-79> 79</a></span>
<span class=normal><a href=#__codelineno-1-80> 80</a></span>
<span class=normal><a href=#__codelineno-1-81> 81</a></span>
<span class=normal><a href=#__codelineno-1-82> 82</a></span>
<span class=normal><a href=#__codelineno-1-83> 83</a></span>
<span class=normal><a href=#__codelineno-1-84> 84</a></span>
<span class=normal><a href=#__codelineno-1-85> 85</a></span>
<span class=normal><a href=#__codelineno-1-86> 86</a></span>
<span class=normal><a href=#__codelineno-1-87> 87</a></span>
<span class=normal><a href=#__codelineno-1-88> 88</a></span>
<span class=normal><a href=#__codelineno-1-89> 89</a></span>
<span class=normal><a href=#__codelineno-1-90> 90</a></span>
<span class=normal><a href=#__codelineno-1-91> 91</a></span>
<span class=normal><a href=#__codelineno-1-92> 92</a></span>
<span class=normal><a href=#__codelineno-1-93> 93</a></span>
<span class=normal><a href=#__codelineno-1-94> 94</a></span>
<span class=normal><a href=#__codelineno-1-95> 95</a></span>
<span class=normal><a href=#__codelineno-1-96> 96</a></span>
<span class=normal><a href=#__codelineno-1-97> 97</a></span>
<span class=normal><a href=#__codelineno-1-98> 98</a></span>
<span class=normal><a href=#__codelineno-1-99> 99</a></span>
<span class=normal><a href=#__codelineno-1-100>100</a></span>
<span class=normal><a href=#__codelineno-1-101>101</a></span>
<span class=normal><a href=#__codelineno-1-102>102</a></span>
<span class=normal><a href=#__codelineno-1-103>103</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1></a><span class=no>`timescale</span><span class=w>  </span><span class=mh>1</span><span class=n>ns</span><span class=o>/</span><span class=mh>1</span><span class=n>ns</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2></a><span class=c1>////////////////////////////////////////////////////////////////////////</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3></a><span class=c1>// Author        : EmbedFire</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4></a><span class=c1>// 实验平台: 野火FPGA系列开发板</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5></a><span class=c1>// 公司    : http://www.embedfire.com</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6></a><span class=c1>// 论坛    : http://www.firebbs.cn</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7></a><span class=c1>// 淘宝    : https://fire-stm32.taobao.com</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8></a><span class=c1>////////////////////////////////////////////////////////////////////////</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9></a>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10></a><span class=k>module</span><span class=w>  </span><span class=n>vga_ctrl</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11></a><span class=p>(</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12></a><span class=w>    </span><span class=k>input</span><span class=w>   </span><span class=kt>wire</span><span class=w>            </span><span class=n>vga_clk</span><span class=w>     </span><span class=p>,</span><span class=w>   </span><span class=c1>//输入工作时钟,频率25MHz</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13></a><span class=w>    </span><span class=k>input</span><span class=w>   </span><span class=kt>wire</span><span class=w>            </span><span class=n>sys_rst_n</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//输入复位信号,低电平有效</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14></a><span class=w>    </span><span class=k>input</span><span class=w>   </span><span class=kt>wire</span><span class=w>    </span><span class=p>[</span><span class=mh>15</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>pix_data</span><span class=w>    </span><span class=p>,</span><span class=w>   </span><span class=c1>//输入像素点色彩信息</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15></a>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w>    </span><span class=p>[</span><span class=mh>11</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>pix_x</span><span class=w>       </span><span class=p>,</span><span class=w>   </span><span class=c1>//输出VGA有效显示区域像素点X轴坐标</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w>    </span><span class=p>[</span><span class=mh>11</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>pix_y</span><span class=w>       </span><span class=p>,</span><span class=w>   </span><span class=c1>//输出VGA有效显示区域像素点Y轴坐标</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w>            </span><span class=n>hsync</span><span class=w>       </span><span class=p>,</span><span class=w>   </span><span class=c1>//输出行同步信号</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w>            </span><span class=n>vsync</span><span class=w>       </span><span class=p>,</span><span class=w>   </span><span class=c1>//输出场同步信号</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w>            </span><span class=n>rgb_valid</span><span class=w>   </span><span class=p>,</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w>    </span><span class=p>[</span><span class=mh>15</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>rgb</span><span class=w>             </span><span class=c1>//输出像素点色彩信息</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22></a><span class=p>);</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23></a>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24></a><span class=c1>//********************************************************************//</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25></a><span class=c1>//****************** Parameter and Internal Signal *******************//</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26></a><span class=c1>//********************************************************************//</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27></a><span class=c1>//parameter define</span>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28></a><span class=k>parameter</span><span class=w> </span><span class=n>H_SYNC</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d96</span><span class=w>  </span><span class=p>,</span><span class=w>   </span><span class=c1>//行同步</span>
</span><span id=__span-1-29><a id=__codelineno-1-29 name=__codelineno-1-29></a><span class=w>          </span><span class=n>H_BACK</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d40</span><span class=w>  </span><span class=p>,</span><span class=w>   </span><span class=c1>//行时序后沿</span>
</span><span id=__span-1-30><a id=__codelineno-1-30 name=__codelineno-1-30></a><span class=w>          </span><span class=n>H_LEFT</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d8</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//行时序左边框</span>
</span><span id=__span-1-31><a id=__codelineno-1-31 name=__codelineno-1-31></a><span class=w>          </span><span class=n>H_VALID</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d640</span><span class=w> </span><span class=p>,</span><span class=w>   </span><span class=c1>//行有效数据</span>
</span><span id=__span-1-32><a id=__codelineno-1-32 name=__codelineno-1-32></a><span class=w>          </span><span class=n>H_RIGHT</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d8</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//行时序右边框</span>
</span><span id=__span-1-33><a id=__codelineno-1-33 name=__codelineno-1-33></a><span class=w>          </span><span class=n>H_FRONT</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d8</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//行时序前沿</span>
</span><span id=__span-1-34><a id=__codelineno-1-34 name=__codelineno-1-34></a><span class=w>          </span><span class=n>H_TOTAL</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d800</span><span class=w> </span><span class=p>;</span><span class=w>   </span><span class=c1>//行扫描周期</span>
</span><span id=__span-1-35><a id=__codelineno-1-35 name=__codelineno-1-35></a><span class=k>parameter</span><span class=w> </span><span class=n>V_SYNC</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d2</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//场同步</span>
</span><span id=__span-1-36><a id=__codelineno-1-36 name=__codelineno-1-36></a><span class=w>          </span><span class=n>V_BACK</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d25</span><span class=w>  </span><span class=p>,</span><span class=w>   </span><span class=c1>//场时序后沿</span>
</span><span id=__span-1-37><a id=__codelineno-1-37 name=__codelineno-1-37></a><span class=w>          </span><span class=n>V_TOP</span><span class=w>     </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d8</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//场时序上边框</span>
</span><span id=__span-1-38><a id=__codelineno-1-38 name=__codelineno-1-38></a><span class=w>          </span><span class=n>V_VALID</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d480</span><span class=w> </span><span class=p>,</span><span class=w>   </span><span class=c1>//场有效数据</span>
</span><span id=__span-1-39><a id=__codelineno-1-39 name=__codelineno-1-39></a><span class=w>          </span><span class=n>V_BOTTOM</span><span class=w>  </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d8</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//场时序下边框</span>
</span><span id=__span-1-40><a id=__codelineno-1-40 name=__codelineno-1-40></a><span class=w>          </span><span class=n>V_FRONT</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d2</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//场时序前沿</span>
</span><span id=__span-1-41><a id=__codelineno-1-41 name=__codelineno-1-41></a><span class=w>          </span><span class=n>V_TOTAL</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>10</span><span class=mi>'d525</span><span class=w> </span><span class=p>;</span><span class=w>   </span><span class=c1>//场扫描周期</span>
</span><span id=__span-1-42><a id=__codelineno-1-42 name=__codelineno-1-42></a>
</span><span id=__span-1-43><a id=__codelineno-1-43 name=__codelineno-1-43></a><span class=c1>//wire  define</span>
</span><span id=__span-1-44><a id=__codelineno-1-44 name=__codelineno-1-44></a><span class=kt>wire</span><span class=w>            </span><span class=n>pix_data_req</span><span class=w>    </span><span class=p>;</span><span class=w>   </span><span class=c1>//像素点色彩信息请求信号</span>
</span><span id=__span-1-45><a id=__codelineno-1-45 name=__codelineno-1-45></a>
</span><span id=__span-1-46><a id=__codelineno-1-46 name=__codelineno-1-46></a><span class=c1>//reg   define</span>
</span><span id=__span-1-47><a id=__codelineno-1-47 name=__codelineno-1-47></a><span class=kt>reg</span><span class=w>     </span><span class=p>[</span><span class=mh>11</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>cnt_h</span><span class=w>           </span><span class=p>;</span><span class=w>   </span><span class=c1>//行同步信号计数器</span>
</span><span id=__span-1-48><a id=__codelineno-1-48 name=__codelineno-1-48></a><span class=kt>reg</span><span class=w>     </span><span class=p>[</span><span class=mh>11</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>cnt_v</span><span class=w>           </span><span class=p>;</span><span class=w>   </span><span class=c1>//场同步信号计数器</span>
</span><span id=__span-1-49><a id=__codelineno-1-49 name=__codelineno-1-49></a>
</span><span id=__span-1-50><a id=__codelineno-1-50 name=__codelineno-1-50></a><span class=c1>//********************************************************************//</span>
</span><span id=__span-1-51><a id=__codelineno-1-51 name=__codelineno-1-51></a><span class=c1>//***************************** Main Code ****************************//</span>
</span><span id=__span-1-52><a id=__codelineno-1-52 name=__codelineno-1-52></a><span class=c1>//********************************************************************//</span>
</span><span id=__span-1-53><a id=__codelineno-1-53 name=__codelineno-1-53></a>
</span><span id=__span-1-54><a id=__codelineno-1-54 name=__codelineno-1-54></a><span class=c1>//cnt_h:行同步信号计数器</span>
</span><span id=__span-1-55><a id=__codelineno-1-55 name=__codelineno-1-55></a><span class=k>always</span><span class=p>@(</span><span class=k>posedge</span><span class=w> </span><span class=n>vga_clk</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=k>negedge</span><span class=w> </span><span class=n>sys_rst_n</span><span class=p>)</span>
</span><span id=__span-1-56><a id=__codelineno-1-56 name=__codelineno-1-56></a><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>sys_rst_n</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mh>1</span><span class=mb>'b0</span><span class=p>)</span>
</span><span id=__span-1-57><a id=__codelineno-1-57 name=__codelineno-1-57></a><span class=w>        </span><span class=n>cnt_h</span><span class=w>   </span><span class=o>&lt;=</span><span class=w>  </span><span class=mh>12</span><span class=mi>'d0</span><span class=w>   </span><span class=p>;</span>
</span><span id=__span-1-58><a id=__codelineno-1-58 name=__codelineno-1-58></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>cnt_h</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>H_TOTAL</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mh>1</span><span class=mi>'d1</span><span class=p>)</span>
</span><span id=__span-1-59><a id=__codelineno-1-59 name=__codelineno-1-59></a><span class=w>        </span><span class=n>cnt_h</span><span class=w>   </span><span class=o>&lt;=</span><span class=w>  </span><span class=mh>12</span><span class=mi>'d0</span><span class=w>   </span><span class=p>;</span>
</span><span id=__span-1-60><a id=__codelineno-1-60 name=__codelineno-1-60></a><span class=w>    </span><span class=k>else</span>
</span><span id=__span-1-61><a id=__codelineno-1-61 name=__codelineno-1-61></a><span class=w>        </span><span class=n>cnt_h</span><span class=w>   </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>cnt_h</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mh>1</span><span class=mi>'d1</span><span class=w>   </span><span class=p>;</span>
</span><span id=__span-1-62><a id=__codelineno-1-62 name=__codelineno-1-62></a>
</span><span id=__span-1-63><a id=__codelineno-1-63 name=__codelineno-1-63></a><span class=c1>//hsync:行同步信号</span>
</span><span id=__span-1-64><a id=__codelineno-1-64 name=__codelineno-1-64></a><span class=k>assign</span><span class=w>  </span><span class=n>hsync</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>cnt_h</span><span class=w>  </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>H_SYNC</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mh>1</span><span class=mi>'d1</span><span class=p>)</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>1</span><span class=mb>'b0</span><span class=w>  </span><span class=p>;</span>
</span><span id=__span-1-65><a id=__codelineno-1-65 name=__codelineno-1-65></a>
</span><span id=__span-1-66><a id=__codelineno-1-66 name=__codelineno-1-66></a><span class=c1>//cnt_v:场同步信号计数器</span>
</span><span id=__span-1-67><a id=__codelineno-1-67 name=__codelineno-1-67></a><span class=k>always</span><span class=p>@(</span><span class=k>posedge</span><span class=w> </span><span class=n>vga_clk</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=k>negedge</span><span class=w> </span><span class=n>sys_rst_n</span><span class=p>)</span>
</span><span id=__span-1-68><a id=__codelineno-1-68 name=__codelineno-1-68></a><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>sys_rst_n</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mh>1</span><span class=mb>'b0</span><span class=p>)</span>
</span><span id=__span-1-69><a id=__codelineno-1-69 name=__codelineno-1-69></a><span class=w>        </span><span class=n>cnt_v</span><span class=w>   </span><span class=o>&lt;=</span><span class=w>  </span><span class=mh>12</span><span class=mi>'d0</span><span class=w> </span><span class=p>;</span>
</span><span id=__span-1-70><a id=__codelineno-1-70 name=__codelineno-1-70></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>cnt_v</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>V_TOTAL</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mh>1</span><span class=mi>'d1</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w>  </span><span class=p>(</span><span class=n>cnt_h</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>H_TOTAL</span><span class=o>-</span><span class=mh>1</span><span class=mi>'d1</span><span class=p>))</span>
</span><span id=__span-1-71><a id=__codelineno-1-71 name=__codelineno-1-71></a><span class=w>        </span><span class=n>cnt_v</span><span class=w>   </span><span class=o>&lt;=</span><span class=w>  </span><span class=mh>12</span><span class=mi>'d0</span><span class=w> </span><span class=p>;</span>
</span><span id=__span-1-72><a id=__codelineno-1-72 name=__codelineno-1-72></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>cnt_h</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>H_TOTAL</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mh>1</span><span class=mi>'d1</span><span class=p>)</span>
</span><span id=__span-1-73><a id=__codelineno-1-73 name=__codelineno-1-73></a><span class=w>        </span><span class=n>cnt_v</span><span class=w>   </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>cnt_v</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mh>1</span><span class=mi>'d1</span><span class=w> </span><span class=p>;</span>
</span><span id=__span-1-74><a id=__codelineno-1-74 name=__codelineno-1-74></a><span class=w>    </span><span class=k>else</span>
</span><span id=__span-1-75><a id=__codelineno-1-75 name=__codelineno-1-75></a><span class=w>        </span><span class=n>cnt_v</span><span class=w>   </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>cnt_v</span><span class=w> </span><span class=p>;</span>
</span><span id=__span-1-76><a id=__codelineno-1-76 name=__codelineno-1-76></a>
</span><span id=__span-1-77><a id=__codelineno-1-77 name=__codelineno-1-77></a><span class=c1>//vsync:场同步信号</span>
</span><span id=__span-1-78><a id=__codelineno-1-78 name=__codelineno-1-78></a><span class=k>assign</span><span class=w>  </span><span class=n>vsync</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>cnt_v</span><span class=w>  </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>V_SYNC</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mh>1</span><span class=mi>'d1</span><span class=p>)</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>1</span><span class=mb>'b0</span><span class=w>  </span><span class=p>;</span>
</span><span id=__span-1-79><a id=__codelineno-1-79 name=__codelineno-1-79></a>
</span><span id=__span-1-80><a id=__codelineno-1-80 name=__codelineno-1-80></a><span class=c1>//rgb_valid:VGA有效显示区域</span>
</span><span id=__span-1-81><a id=__codelineno-1-81 name=__codelineno-1-81></a><span class=k>assign</span><span class=w>  </span><span class=n>rgb_valid</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(((</span><span class=n>cnt_h</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>H_SYNC</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_BACK</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_LEFT</span><span class=p>)</span>
</span><span id=__span-1-82><a id=__codelineno-1-82 name=__codelineno-1-82></a><span class=w>                    </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>cnt_h</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>H_SYNC</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_BACK</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_LEFT</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_VALID</span><span class=p>))</span>
</span><span id=__span-1-83><a id=__codelineno-1-83 name=__codelineno-1-83></a><span class=w>                    </span><span class=o>&amp;&amp;</span><span class=p>((</span><span class=n>cnt_v</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>V_SYNC</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_BACK</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_TOP</span><span class=p>)</span>
</span><span id=__span-1-84><a id=__codelineno-1-84 name=__codelineno-1-84></a><span class=w>                    </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>cnt_v</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>V_SYNC</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_BACK</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_TOP</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_VALID</span><span class=p>)))</span>
</span><span id=__span-1-85><a id=__codelineno-1-85 name=__codelineno-1-85></a><span class=w>                    </span><span class=o>?</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>1</span><span class=mb>'b0</span><span class=p>;</span>
</span><span id=__span-1-86><a id=__codelineno-1-86 name=__codelineno-1-86></a>
</span><span id=__span-1-87><a id=__codelineno-1-87 name=__codelineno-1-87></a><span class=c1>//pix_data_req:像素点色彩信息请求信号,超前rgb_valid信号一个时钟周期</span>
</span><span id=__span-1-88><a id=__codelineno-1-88 name=__codelineno-1-88></a><span class=k>assign</span><span class=w>  </span><span class=n>pix_data_req</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(((</span><span class=n>cnt_h</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>H_SYNC</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_BACK</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_LEFT</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=p>)</span>
</span><span id=__span-1-89><a id=__codelineno-1-89 name=__codelineno-1-89></a><span class=w>                    </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>cnt_h</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>H_SYNC</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_BACK</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_LEFT</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_VALID</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=p>))</span>
</span><span id=__span-1-90><a id=__codelineno-1-90 name=__codelineno-1-90></a><span class=w>                    </span><span class=o>&amp;&amp;</span><span class=p>((</span><span class=n>cnt_v</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>V_SYNC</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_BACK</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_TOP</span><span class=p>)</span>
</span><span id=__span-1-91><a id=__codelineno-1-91 name=__codelineno-1-91></a><span class=w>                    </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>cnt_v</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>V_SYNC</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_BACK</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_TOP</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_VALID</span><span class=p>)))</span>
</span><span id=__span-1-92><a id=__codelineno-1-92 name=__codelineno-1-92></a><span class=w>                    </span><span class=o>?</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>1</span><span class=mb>'b0</span><span class=p>;</span>
</span><span id=__span-1-93><a id=__codelineno-1-93 name=__codelineno-1-93></a>
</span><span id=__span-1-94><a id=__codelineno-1-94 name=__codelineno-1-94></a><span class=c1>//pix_x,pix_y:VGA有效显示区域像素点坐标</span>
</span><span id=__span-1-95><a id=__codelineno-1-95 name=__codelineno-1-95></a><span class=k>assign</span><span class=w>  </span><span class=n>pix_x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>pix_data_req</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=p>)</span>
</span><span id=__span-1-96><a id=__codelineno-1-96 name=__codelineno-1-96></a><span class=w>                </span><span class=o>?</span><span class=w> </span><span class=p>(</span><span class=n>cnt_h</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=p>(</span><span class=n>H_SYNC</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_BACK</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>H_LEFT</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=p>))</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>12'hfff</span><span class=p>;</span>
</span><span id=__span-1-97><a id=__codelineno-1-97 name=__codelineno-1-97></a><span class=k>assign</span><span class=w>  </span><span class=n>pix_y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>pix_data_req</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=p>)</span>
</span><span id=__span-1-98><a id=__codelineno-1-98 name=__codelineno-1-98></a><span class=w>                </span><span class=o>?</span><span class=w> </span><span class=p>(</span><span class=n>cnt_v</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=p>(</span><span class=n>V_SYNC</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_BACK</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>V_TOP</span><span class=p>))</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>12'hfff</span><span class=p>;</span>
</span><span id=__span-1-99><a id=__codelineno-1-99 name=__codelineno-1-99></a>
</span><span id=__span-1-100><a id=__codelineno-1-100 name=__codelineno-1-100></a><span class=c1>//rgb:输出像素点色彩信息</span>
</span><span id=__span-1-101><a id=__codelineno-1-101 name=__codelineno-1-101></a><span class=k>assign</span><span class=w>  </span><span class=n>rgb</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>rgb_valid</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=p>)</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>pix_data</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>16</span><span class=mb>'b0</span><span class=w> </span><span class=p>;</span>
</span><span id=__span-1-102><a id=__codelineno-1-102 name=__codelineno-1-102></a>
</span><span id=__span-1-103><a id=__codelineno-1-103 name=__codelineno-1-103></a><span class=k>endmodule</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>对于<span class=heti-skip><span class=heti-spacing> </span>vga_pic<span class=heti-spacing> </span></span>模块，我们可以根据<span class=heti-skip><span class=heti-spacing> </span>x<span class=heti-spacing> </span></span>坐标范围（0~639）分成十份，每一份输出不同的颜色。参考代码如下所示：</p> <div class="language-verilog highlight"><table class=highlighttable><tbody><tr><th class=filename colspan=2><span class=filename>Verilog</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1> 1</a></span>
<span class=normal><a href=#__codelineno-2-2> 2</a></span>
<span class=normal><a href=#__codelineno-2-3> 3</a></span>
<span class=normal><a href=#__codelineno-2-4> 4</a></span>
<span class=normal><a href=#__codelineno-2-5> 5</a></span>
<span class=normal><a href=#__codelineno-2-6> 6</a></span>
<span class=normal><a href=#__codelineno-2-7> 7</a></span>
<span class=normal><a href=#__codelineno-2-8> 8</a></span>
<span class=normal><a href=#__codelineno-2-9> 9</a></span>
<span class=normal><a href=#__codelineno-2-10>10</a></span>
<span class=normal><a href=#__codelineno-2-11>11</a></span>
<span class=normal><a href=#__codelineno-2-12>12</a></span>
<span class=normal><a href=#__codelineno-2-13>13</a></span>
<span class=normal><a href=#__codelineno-2-14>14</a></span>
<span class=normal><a href=#__codelineno-2-15>15</a></span>
<span class=normal><a href=#__codelineno-2-16>16</a></span>
<span class=normal><a href=#__codelineno-2-17>17</a></span>
<span class=normal><a href=#__codelineno-2-18>18</a></span>
<span class=normal><a href=#__codelineno-2-19>19</a></span>
<span class=normal><a href=#__codelineno-2-20>20</a></span>
<span class=normal><a href=#__codelineno-2-21>21</a></span>
<span class=normal><a href=#__codelineno-2-22>22</a></span>
<span class=normal><a href=#__codelineno-2-23>23</a></span>
<span class=normal><a href=#__codelineno-2-24>24</a></span>
<span class=normal><a href=#__codelineno-2-25>25</a></span>
<span class=normal><a href=#__codelineno-2-26>26</a></span>
<span class=normal><a href=#__codelineno-2-27>27</a></span>
<span class=normal><a href=#__codelineno-2-28>28</a></span>
<span class=normal><a href=#__codelineno-2-29>29</a></span>
<span class=normal><a href=#__codelineno-2-30>30</a></span>
<span class=normal><a href=#__codelineno-2-31>31</a></span>
<span class=normal><a href=#__codelineno-2-32>32</a></span>
<span class=normal><a href=#__codelineno-2-33>33</a></span>
<span class=normal><a href=#__codelineno-2-34>34</a></span>
<span class=normal><a href=#__codelineno-2-35>35</a></span>
<span class=normal><a href=#__codelineno-2-36>36</a></span>
<span class=normal><a href=#__codelineno-2-37>37</a></span>
<span class=normal><a href=#__codelineno-2-38>38</a></span>
<span class=normal><a href=#__codelineno-2-39>39</a></span>
<span class=normal><a href=#__codelineno-2-40>40</a></span>
<span class=normal><a href=#__codelineno-2-41>41</a></span>
<span class=normal><a href=#__codelineno-2-42>42</a></span>
<span class=normal><a href=#__codelineno-2-43>43</a></span>
<span class=normal><a href=#__codelineno-2-44>44</a></span>
<span class=normal><a href=#__codelineno-2-45>45</a></span>
<span class=normal><a href=#__codelineno-2-46>46</a></span>
<span class=normal><a href=#__codelineno-2-47>47</a></span>
<span class=normal><a href=#__codelineno-2-48>48</a></span>
<span class=normal><a href=#__codelineno-2-49>49</a></span>
<span class=normal><a href=#__codelineno-2-50>50</a></span>
<span class=normal><a href=#__codelineno-2-51>51</a></span>
<span class=normal><a href=#__codelineno-2-52>52</a></span>
<span class=normal><a href=#__codelineno-2-53>53</a></span>
<span class=normal><a href=#__codelineno-2-54>54</a></span>
<span class=normal><a href=#__codelineno-2-55>55</a></span>
<span class=normal><a href=#__codelineno-2-56>56</a></span>
<span class=normal><a href=#__codelineno-2-57>57</a></span>
<span class=normal><a href=#__codelineno-2-58>58</a></span>
<span class=normal><a href=#__codelineno-2-59>59</a></span>
<span class=normal><a href=#__codelineno-2-60>60</a></span>
<span class=normal><a href=#__codelineno-2-61>61</a></span>
<span class=normal><a href=#__codelineno-2-62>62</a></span>
<span class=normal><a href=#__codelineno-2-63>63</a></span>
<span class=normal><a href=#__codelineno-2-64>64</a></span>
<span class=normal><a href=#__codelineno-2-65>65</a></span>
<span class=normal><a href=#__codelineno-2-66>66</a></span>
<span class=normal><a href=#__codelineno-2-67>67</a></span>
<span class=normal><a href=#__codelineno-2-68>68</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1></a><span class=no>`timescale</span><span class=w>  </span><span class=mh>1</span><span class=n>ns</span><span class=o>/</span><span class=mh>1</span><span class=n>ns</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2></a><span class=c1>////////////////////////////////////////////////////////////////////////</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3></a><span class=c1>// Author        : EmbedFire</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4></a><span class=c1>// 实验平台: 野火FPGA系列开发板</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5></a><span class=c1>// 公司    : http://www.embedfire.com</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6></a><span class=c1>// 论坛    : http://www.firebbs.cn</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7></a><span class=c1>// 淘宝    : https://fire-stm32.taobao.com</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8></a><span class=c1>////////////////////////////////////////////////////////////////////////</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9></a>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10></a><span class=k>module</span><span class=w>  </span><span class=n>vga_pic</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11></a><span class=p>(</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12></a><span class=w>    </span><span class=k>input</span><span class=w>   </span><span class=kt>wire</span><span class=w>            </span><span class=n>vga_clk</span><span class=w>     </span><span class=p>,</span><span class=w>   </span><span class=c1>//输入工作时钟,频率25MHz</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13></a><span class=w>    </span><span class=k>input</span><span class=w>   </span><span class=kt>wire</span><span class=w>            </span><span class=n>sys_rst_n</span><span class=w>   </span><span class=p>,</span><span class=w>   </span><span class=c1>//输入复位信号,低电平有效</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14></a><span class=w>    </span><span class=k>input</span><span class=w>   </span><span class=kt>wire</span><span class=w>    </span><span class=p>[</span><span class=mh>11</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>pix_x</span><span class=w>       </span><span class=p>,</span><span class=w>   </span><span class=c1>//输入VGA有效显示区域像素点X轴坐标</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15></a><span class=w>    </span><span class=k>input</span><span class=w>   </span><span class=kt>wire</span><span class=w>    </span><span class=p>[</span><span class=mh>11</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>pix_y</span><span class=w>       </span><span class=p>,</span><span class=w>   </span><span class=c1>//输入VGA有效显示区域像素点Y轴坐标</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16></a>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>reg</span><span class=w>     </span><span class=p>[</span><span class=mh>15</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>pix_data</span><span class=w>        </span><span class=c1>//输出像素点色彩信息</span>
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18></a><span class=p>);</span>
</span><span id=__span-2-19><a id=__codelineno-2-19 name=__codelineno-2-19></a>
</span><span id=__span-2-20><a id=__codelineno-2-20 name=__codelineno-2-20></a><span class=c1>//********************************************************************//</span>
</span><span id=__span-2-21><a id=__codelineno-2-21 name=__codelineno-2-21></a><span class=c1>//****************** Parameter and Internal Signal *******************//</span>
</span><span id=__span-2-22><a id=__codelineno-2-22 name=__codelineno-2-22></a><span class=c1>//********************************************************************//</span>
</span><span id=__span-2-23><a id=__codelineno-2-23 name=__codelineno-2-23></a><span class=c1>//parameter define</span>
</span><span id=__span-2-24><a id=__codelineno-2-24 name=__codelineno-2-24></a><span class=k>parameter</span><span class=w>   </span><span class=n>H_VALID</span><span class=w> </span><span class=o>=</span><span class=w>   </span><span class=mh>12</span><span class=mi>'d640</span><span class=w> </span><span class=p>,</span><span class=w>   </span><span class=c1>//行有效数据</span>
</span><span id=__span-2-25><a id=__codelineno-2-25 name=__codelineno-2-25></a><span class=w>            </span><span class=n>V_VALID</span><span class=w> </span><span class=o>=</span><span class=w>   </span><span class=mh>12</span><span class=mi>'d480</span><span class=w> </span><span class=p>;</span><span class=w>   </span><span class=c1>//场有效数据</span>
</span><span id=__span-2-26><a id=__codelineno-2-26 name=__codelineno-2-26></a>
</span><span id=__span-2-27><a id=__codelineno-2-27 name=__codelineno-2-27></a><span class=k>parameter</span><span class=w>   </span><span class=n>RED</span><span class=w>     </span><span class=o>=</span><span class=w>   </span><span class=mh>16'hF800</span><span class=p>,</span><span class=w>   </span><span class=c1>//红色</span>
</span><span id=__span-2-28><a id=__codelineno-2-28 name=__codelineno-2-28></a><span class=w>            </span><span class=n>ORANGE</span><span class=w>  </span><span class=o>=</span><span class=w>   </span><span class=mh>16'hFC00</span><span class=p>,</span><span class=w>   </span><span class=c1>//橙色</span>
</span><span id=__span-2-29><a id=__codelineno-2-29 name=__codelineno-2-29></a><span class=w>            </span><span class=n>YELLOW</span><span class=w>  </span><span class=o>=</span><span class=w>   </span><span class=mh>16'hFFE0</span><span class=p>,</span><span class=w>   </span><span class=c1>//黄色</span>
</span><span id=__span-2-30><a id=__codelineno-2-30 name=__codelineno-2-30></a><span class=w>            </span><span class=n>GREEN</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>16'h07E0</span><span class=p>,</span><span class=w>   </span><span class=c1>//绿色</span>
</span><span id=__span-2-31><a id=__codelineno-2-31 name=__codelineno-2-31></a><span class=w>            </span><span class=n>CYAN</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>16'h07FF</span><span class=p>,</span><span class=w>   </span><span class=c1>//青色</span>
</span><span id=__span-2-32><a id=__codelineno-2-32 name=__codelineno-2-32></a><span class=w>            </span><span class=n>BLUE</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>16'h001F</span><span class=p>,</span><span class=w>   </span><span class=c1>//蓝色</span>
</span><span id=__span-2-33><a id=__codelineno-2-33 name=__codelineno-2-33></a><span class=w>            </span><span class=n>PURPPLE</span><span class=w> </span><span class=o>=</span><span class=w>   </span><span class=mh>16'hF81F</span><span class=p>,</span><span class=w>   </span><span class=c1>//紫色</span>
</span><span id=__span-2-34><a id=__codelineno-2-34 name=__codelineno-2-34></a><span class=w>            </span><span class=n>BLACK</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>16'h0000</span><span class=p>,</span><span class=w>   </span><span class=c1>//黑色</span>
</span><span id=__span-2-35><a id=__codelineno-2-35 name=__codelineno-2-35></a><span class=w>            </span><span class=n>WHITE</span><span class=w>   </span><span class=o>=</span><span class=w>   </span><span class=mh>16'hFFFF</span><span class=p>,</span><span class=w>   </span><span class=c1>//白色</span>
</span><span id=__span-2-36><a id=__codelineno-2-36 name=__codelineno-2-36></a><span class=w>            </span><span class=n>GRAY</span><span class=w>    </span><span class=o>=</span><span class=w>   </span><span class=mh>16'hD69A</span><span class=p>;</span><span class=w>   </span><span class=c1>//灰色</span>
</span><span id=__span-2-37><a id=__codelineno-2-37 name=__codelineno-2-37></a>
</span><span id=__span-2-38><a id=__codelineno-2-38 name=__codelineno-2-38></a><span class=c1>//********************************************************************//</span>
</span><span id=__span-2-39><a id=__codelineno-2-39 name=__codelineno-2-39></a><span class=c1>//***************************** Main Code ****************************//</span>
</span><span id=__span-2-40><a id=__codelineno-2-40 name=__codelineno-2-40></a><span class=c1>//********************************************************************//</span>
</span><span id=__span-2-41><a id=__codelineno-2-41 name=__codelineno-2-41></a><span class=c1>//pix_data:输出像素点色彩信息,根据当前像素点坐标指定当前像素点颜色数据</span>
</span><span id=__span-2-42><a id=__codelineno-2-42 name=__codelineno-2-42></a><span class=k>always</span><span class=p>@(</span><span class=k>posedge</span><span class=w> </span><span class=n>vga_clk</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=k>negedge</span><span class=w> </span><span class=n>sys_rst_n</span><span class=p>)</span>
</span><span id=__span-2-43><a id=__codelineno-2-43 name=__codelineno-2-43></a><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>sys_rst_n</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mh>1</span><span class=mb>'b0</span><span class=p>)</span>
</span><span id=__span-2-44><a id=__codelineno-2-44 name=__codelineno-2-44></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w> </span><span class=mh>16</span><span class=mi>'d0</span><span class=p>;</span>
</span><span id=__span-2-45><a id=__codelineno-2-45 name=__codelineno-2-45></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>pix_x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mh>0</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>pix_x</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>1</span><span class=p>))</span>
</span><span id=__span-2-46><a id=__codelineno-2-46 name=__codelineno-2-46></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>RED</span><span class=p>;</span>
</span><span id=__span-2-47><a id=__codelineno-2-47 name=__codelineno-2-47></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>pix_x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>1</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>pix_x</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>2</span><span class=p>))</span>
</span><span id=__span-2-48><a id=__codelineno-2-48 name=__codelineno-2-48></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>ORANGE</span><span class=p>;</span>
</span><span id=__span-2-49><a id=__codelineno-2-49 name=__codelineno-2-49></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>pix_x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>2</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>pix_x</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>3</span><span class=p>))</span>
</span><span id=__span-2-50><a id=__codelineno-2-50 name=__codelineno-2-50></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>YELLOW</span><span class=p>;</span>
</span><span id=__span-2-51><a id=__codelineno-2-51 name=__codelineno-2-51></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>pix_x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>3</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>pix_x</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>4</span><span class=p>))</span>
</span><span id=__span-2-52><a id=__codelineno-2-52 name=__codelineno-2-52></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>GREEN</span><span class=p>;</span>
</span><span id=__span-2-53><a id=__codelineno-2-53 name=__codelineno-2-53></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>pix_x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>4</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>pix_x</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>5</span><span class=p>))</span>
</span><span id=__span-2-54><a id=__codelineno-2-54 name=__codelineno-2-54></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>CYAN</span><span class=p>;</span>
</span><span id=__span-2-55><a id=__codelineno-2-55 name=__codelineno-2-55></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>pix_x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>5</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>pix_x</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>6</span><span class=p>))</span>
</span><span id=__span-2-56><a id=__codelineno-2-56 name=__codelineno-2-56></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>BLUE</span><span class=p>;</span>
</span><span id=__span-2-57><a id=__codelineno-2-57 name=__codelineno-2-57></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>pix_x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>6</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>pix_x</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>7</span><span class=p>))</span>
</span><span id=__span-2-58><a id=__codelineno-2-58 name=__codelineno-2-58></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>PURPPLE</span><span class=p>;</span>
</span><span id=__span-2-59><a id=__codelineno-2-59 name=__codelineno-2-59></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>pix_x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>7</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>pix_x</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>8</span><span class=p>))</span>
</span><span id=__span-2-60><a id=__codelineno-2-60 name=__codelineno-2-60></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>BLACK</span><span class=p>;</span>
</span><span id=__span-2-61><a id=__codelineno-2-61 name=__codelineno-2-61></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>pix_x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>8</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>pix_x</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>9</span><span class=p>))</span>
</span><span id=__span-2-62><a id=__codelineno-2-62 name=__codelineno-2-62></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>WHITE</span><span class=p>;</span>
</span><span id=__span-2-63><a id=__codelineno-2-63 name=__codelineno-2-63></a><span class=w>    </span><span class=k>else</span><span class=w>    </span><span class=k>if</span><span class=p>((</span><span class=n>pix_x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=p>(</span><span class=n>H_VALID</span><span class=o>/</span><span class=mh>10</span><span class=p>)</span><span class=o>*</span><span class=mh>9</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span><span class=n>pix_x</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>H_VALID</span><span class=p>))</span>
</span><span id=__span-2-64><a id=__codelineno-2-64 name=__codelineno-2-64></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>GRAY</span><span class=p>;</span>
</span><span id=__span-2-65><a id=__codelineno-2-65 name=__codelineno-2-65></a><span class=w>    </span><span class=k>else</span>
</span><span id=__span-2-66><a id=__codelineno-2-66 name=__codelineno-2-66></a><span class=w>        </span><span class=n>pix_data</span><span class=w>    </span><span class=o>&lt;=</span><span class=w>  </span><span class=n>BLACK</span><span class=p>;</span>
</span><span id=__span-2-67><a id=__codelineno-2-67 name=__codelineno-2-67></a>
</span><span id=__span-2-68><a id=__codelineno-2-68 name=__codelineno-2-68></a><span class=k>endmodule</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>在顶层模块，我们首先要利用<span class=heti-skip><span class=heti-spacing> </span>PLL ip<span class=heti-spacing> </span></span>核生成<span class=heti-skip><span class=heti-spacing> </span>iic<span class=heti-spacing> </span></span>的驱动时钟进行初始化，由于<span class=heti-skip><span class=heti-spacing> </span>ms7210<span class=heti-spacing> </span></span>芯片的需要，我们通过计数设置一个延迟复位信号，由于我们的彩条颜色是按照<span class=heti-skip><span class=heti-spacing> </span>RGB565<span class=heti-spacing> </span></span>格式生成的，所以需要向<span class=heti-skip><span class=heti-spacing> </span>RGB888<span class=heti-spacing> </span></span>进行转换，只需要填<span class=heti-skip><span class=heti-spacing> </span>0<span class=heti-spacing> </span></span>补位即可，同时由于板载时钟是<span class=heti-skip><span class=heti-spacing> </span>27M<span class=heti-spacing> </span></span>与<span class=heti-skip><span class=heti-spacing> </span>25.175M<span class=heti-spacing> </span></span>相差不大，所以直接使用板载时钟作为像素时钟输出。然后我们将输出的行场同步信号，像素时钟，像素数据，像素数据有效信号等与模块相连接即可完成设计。顶层模块参考代码如下：</p> <div class="language-Verilog highlight"><table class=highlighttable><tbody><tr><th class=filename colspan=2><span class=filename>Verilog</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>  1</a></span>
<span class=normal><a href=#__codelineno-3-2>  2</a></span>
<span class=normal><a href=#__codelineno-3-3>  3</a></span>
<span class=normal><a href=#__codelineno-3-4>  4</a></span>
<span class=normal><a href=#__codelineno-3-5>  5</a></span>
<span class=normal><a href=#__codelineno-3-6>  6</a></span>
<span class=normal><a href=#__codelineno-3-7>  7</a></span>
<span class=normal><a href=#__codelineno-3-8>  8</a></span>
<span class=normal><a href=#__codelineno-3-9>  9</a></span>
<span class=normal><a href=#__codelineno-3-10> 10</a></span>
<span class=normal><a href=#__codelineno-3-11> 11</a></span>
<span class=normal><a href=#__codelineno-3-12> 12</a></span>
<span class=normal><a href=#__codelineno-3-13> 13</a></span>
<span class=normal><a href=#__codelineno-3-14> 14</a></span>
<span class=normal><a href=#__codelineno-3-15> 15</a></span>
<span class=normal><a href=#__codelineno-3-16> 16</a></span>
<span class=normal><a href=#__codelineno-3-17> 17</a></span>
<span class=normal><a href=#__codelineno-3-18> 18</a></span>
<span class=normal><a href=#__codelineno-3-19> 19</a></span>
<span class=normal><a href=#__codelineno-3-20> 20</a></span>
<span class=normal><a href=#__codelineno-3-21> 21</a></span>
<span class=normal><a href=#__codelineno-3-22> 22</a></span>
<span class=normal><a href=#__codelineno-3-23> 23</a></span>
<span class=normal><a href=#__codelineno-3-24> 24</a></span>
<span class=normal><a href=#__codelineno-3-25> 25</a></span>
<span class=normal><a href=#__codelineno-3-26> 26</a></span>
<span class=normal><a href=#__codelineno-3-27> 27</a></span>
<span class=normal><a href=#__codelineno-3-28> 28</a></span>
<span class=normal><a href=#__codelineno-3-29> 29</a></span>
<span class=normal><a href=#__codelineno-3-30> 30</a></span>
<span class=normal><a href=#__codelineno-3-31> 31</a></span>
<span class=normal><a href=#__codelineno-3-32> 32</a></span>
<span class=normal><a href=#__codelineno-3-33> 33</a></span>
<span class=normal><a href=#__codelineno-3-34> 34</a></span>
<span class=normal><a href=#__codelineno-3-35> 35</a></span>
<span class=normal><a href=#__codelineno-3-36> 36</a></span>
<span class=normal><a href=#__codelineno-3-37> 37</a></span>
<span class=normal><a href=#__codelineno-3-38> 38</a></span>
<span class=normal><a href=#__codelineno-3-39> 39</a></span>
<span class=normal><a href=#__codelineno-3-40> 40</a></span>
<span class=normal><a href=#__codelineno-3-41> 41</a></span>
<span class=normal><a href=#__codelineno-3-42> 42</a></span>
<span class=normal><a href=#__codelineno-3-43> 43</a></span>
<span class=normal><a href=#__codelineno-3-44> 44</a></span>
<span class=normal><a href=#__codelineno-3-45> 45</a></span>
<span class=normal><a href=#__codelineno-3-46> 46</a></span>
<span class=normal><a href=#__codelineno-3-47> 47</a></span>
<span class=normal><a href=#__codelineno-3-48> 48</a></span>
<span class=normal><a href=#__codelineno-3-49> 49</a></span>
<span class=normal><a href=#__codelineno-3-50> 50</a></span>
<span class=normal><a href=#__codelineno-3-51> 51</a></span>
<span class=normal><a href=#__codelineno-3-52> 52</a></span>
<span class=normal><a href=#__codelineno-3-53> 53</a></span>
<span class=normal><a href=#__codelineno-3-54> 54</a></span>
<span class=normal><a href=#__codelineno-3-55> 55</a></span>
<span class=normal><a href=#__codelineno-3-56> 56</a></span>
<span class=normal><a href=#__codelineno-3-57> 57</a></span>
<span class=normal><a href=#__codelineno-3-58> 58</a></span>
<span class=normal><a href=#__codelineno-3-59> 59</a></span>
<span class=normal><a href=#__codelineno-3-60> 60</a></span>
<span class=normal><a href=#__codelineno-3-61> 61</a></span>
<span class=normal><a href=#__codelineno-3-62> 62</a></span>
<span class=normal><a href=#__codelineno-3-63> 63</a></span>
<span class=normal><a href=#__codelineno-3-64> 64</a></span>
<span class=normal><a href=#__codelineno-3-65> 65</a></span>
<span class=normal><a href=#__codelineno-3-66> 66</a></span>
<span class=normal><a href=#__codelineno-3-67> 67</a></span>
<span class=normal><a href=#__codelineno-3-68> 68</a></span>
<span class=normal><a href=#__codelineno-3-69> 69</a></span>
<span class=normal><a href=#__codelineno-3-70> 70</a></span>
<span class=normal><a href=#__codelineno-3-71> 71</a></span>
<span class=normal><a href=#__codelineno-3-72> 72</a></span>
<span class=normal><a href=#__codelineno-3-73> 73</a></span>
<span class=normal><a href=#__codelineno-3-74> 74</a></span>
<span class=normal><a href=#__codelineno-3-75> 75</a></span>
<span class=normal><a href=#__codelineno-3-76> 76</a></span>
<span class=normal><a href=#__codelineno-3-77> 77</a></span>
<span class=normal><a href=#__codelineno-3-78> 78</a></span>
<span class=normal><a href=#__codelineno-3-79> 79</a></span>
<span class=normal><a href=#__codelineno-3-80> 80</a></span>
<span class=normal><a href=#__codelineno-3-81> 81</a></span>
<span class=normal><a href=#__codelineno-3-82> 82</a></span>
<span class=normal><a href=#__codelineno-3-83> 83</a></span>
<span class=normal><a href=#__codelineno-3-84> 84</a></span>
<span class=normal><a href=#__codelineno-3-85> 85</a></span>
<span class=normal><a href=#__codelineno-3-86> 86</a></span>
<span class=normal><a href=#__codelineno-3-87> 87</a></span>
<span class=normal><a href=#__codelineno-3-88> 88</a></span>
<span class=normal><a href=#__codelineno-3-89> 89</a></span>
<span class=normal><a href=#__codelineno-3-90> 90</a></span>
<span class=normal><a href=#__codelineno-3-91> 91</a></span>
<span class=normal><a href=#__codelineno-3-92> 92</a></span>
<span class=normal><a href=#__codelineno-3-93> 93</a></span>
<span class=normal><a href=#__codelineno-3-94> 94</a></span>
<span class=normal><a href=#__codelineno-3-95> 95</a></span>
<span class=normal><a href=#__codelineno-3-96> 96</a></span>
<span class=normal><a href=#__codelineno-3-97> 97</a></span>
<span class=normal><a href=#__codelineno-3-98> 98</a></span>
<span class=normal><a href=#__codelineno-3-99> 99</a></span>
<span class=normal><a href=#__codelineno-3-100>100</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1></a><span class=no>`timescale</span><span class=w> </span><span class=mh>1</span><span class=n>ns</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mh>1</span><span class=n>ns</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2></a><span class=k>module</span><span class=w> </span><span class=n>hdmi_top</span><span class=p>(</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3></a><span class=w>    </span><span class=k>input</span><span class=w> </span><span class=kt>wire</span><span class=w>          </span><span class=n>sys_clk</span><span class=w>       </span><span class=p>,</span><span class=c1>// input system clock 50MHz   </span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4></a><span class=w>    </span><span class=k>input</span><span class=w>               </span><span class=n>rstn_in</span><span class=w>       </span><span class=p>,</span><span class=w> </span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5></a><span class=w>    </span><span class=k>output</span><span class=w>              </span><span class=n>rstn_out</span><span class=w>      </span><span class=p>,</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6></a><span class=w>    </span><span class=k>output</span><span class=w>              </span><span class=n>hd_scl</span><span class=w>        </span><span class=p>,</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7></a><span class=w>    </span><span class=k>inout</span><span class=w>               </span><span class=n>hd_sda</span><span class=w>        </span><span class=p>,</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8></a><span class=w>    </span><span class=k>output</span><span class=w>              </span><span class=n>led_int</span><span class=w>       </span><span class=p>,</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9></a>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10></a><span class=c1>//hdmi_out </span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11></a><span class=w>    </span><span class=k>output</span><span class=w>              </span><span class=n>pixclk_out</span><span class=w>    </span><span class=p>,</span><span class=c1>//pixclk                           </span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w>        </span><span class=n>vs_out</span><span class=w>        </span><span class=p>,</span><span class=w> </span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w>        </span><span class=n>hs_out</span><span class=w>        </span><span class=p>,</span><span class=w> </span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w>        </span><span class=n>de_out</span><span class=w>        </span><span class=p>,</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=p>[</span><span class=mh>7</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>r_out</span><span class=w>         </span><span class=p>,</span><span class=w> </span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=p>[</span><span class=mh>7</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>g_out</span><span class=w>         </span><span class=p>,</span><span class=w> </span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17></a><span class=w>    </span><span class=k>output</span><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=p>[</span><span class=mh>7</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>  </span><span class=n>b_out</span><span class=w>         </span>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18></a>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19></a><span class=p>);</span>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20></a><span class=kt>wire</span><span class=w>                        </span><span class=n>cfg_clk</span><span class=w>    </span><span class=p>;</span>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21></a><span class=kt>wire</span><span class=w>                        </span><span class=n>locked</span><span class=w>     </span><span class=p>;</span>
</span><span id=__span-3-22><a id=__codelineno-3-22 name=__codelineno-3-22></a><span class=kt>wire</span><span class=w>                        </span><span class=n>rstn</span><span class=w>       </span><span class=p>;</span>
</span><span id=__span-3-23><a id=__codelineno-3-23 name=__codelineno-3-23></a><span class=kt>wire</span><span class=w>                        </span><span class=n>init_over</span><span class=w>  </span><span class=p>;</span>
</span><span id=__span-3-24><a id=__codelineno-3-24 name=__codelineno-3-24></a><span class=kt>reg</span><span class=w>  </span><span class=p>[</span><span class=mh>15</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w>                 </span><span class=n>rstn_1ms</span><span class=w>   </span><span class=p>;</span>
</span><span id=__span-3-25><a id=__codelineno-3-25 name=__codelineno-3-25></a><span class=c1>//**********************************************//</span>
</span><span id=__span-3-26><a id=__codelineno-3-26 name=__codelineno-3-26></a><span class=c1>//*****************MS7210初始化******************//</span>
</span><span id=__span-3-27><a id=__codelineno-3-27 name=__codelineno-3-27></a><span class=c1>//**********************************************//</span>
</span><span id=__span-3-28><a id=__codelineno-3-28 name=__codelineno-3-28></a><span class=c1>//**************仿真时不编译此部分***************//</span>
</span><span id=__span-3-29><a id=__codelineno-3-29 name=__codelineno-3-29></a><span class=no>`ifndef</span><span class=w> </span><span class=n>SIM</span>
</span><span id=__span-3-30><a id=__codelineno-3-30 name=__codelineno-3-30></a><span class=c1>//初始化成功标志</span>
</span><span id=__span-3-31><a id=__codelineno-3-31 name=__codelineno-3-31></a><span class=k>assign</span><span class=w>    </span><span class=n>led_int</span><span class=w>    </span><span class=o>=</span><span class=w>     </span><span class=n>init_over</span><span class=p>;</span>
</span><span id=__span-3-32><a id=__codelineno-3-32 name=__codelineno-3-32></a><span class=c1>//生成10M IIC时钟</span>
</span><span id=__span-3-33><a id=__codelineno-3-33 name=__codelineno-3-33></a><span class=n>PLL</span><span class=w> </span><span class=n>u_pll</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-3-34><a id=__codelineno-3-34 name=__codelineno-3-34></a><span class=w>  </span><span class=p>.</span><span class=n>clkout0</span><span class=p>(</span><span class=n>cfg_clk</span><span class=p>),</span><span class=w>    </span><span class=c1>// output</span>
</span><span id=__span-3-35><a id=__codelineno-3-35 name=__codelineno-3-35></a><span class=w>  </span><span class=p>.</span><span class=n>lock</span><span class=p>(</span><span class=n>locked</span><span class=p>),</span><span class=w>          </span><span class=c1>// output</span>
</span><span id=__span-3-36><a id=__codelineno-3-36 name=__codelineno-3-36></a><span class=w>  </span><span class=p>.</span><span class=n>clkin1</span><span class=p>(</span><span class=n>sys_clk</span><span class=p>)</span><span class=w>       </span><span class=c1>// input</span>
</span><span id=__span-3-37><a id=__codelineno-3-37 name=__codelineno-3-37></a><span class=p>);</span>
</span><span id=__span-3-38><a id=__codelineno-3-38 name=__codelineno-3-38></a><span class=c1>//ms7210初始化模块</span>
</span><span id=__span-3-39><a id=__codelineno-3-39 name=__codelineno-3-39></a><span class=n>ms7210_ctrl_iic_top</span><span class=w> </span><span class=n>ms7210_ctrl_iic_top_inst</span><span class=p>(</span>
</span><span id=__span-3-40><a id=__codelineno-3-40 name=__codelineno-3-40></a><span class=w>    </span><span class=p>.</span><span class=n>clk</span><span class=w>         </span><span class=p>(</span><span class=w>  </span><span class=n>cfg_clk</span><span class=w>    </span><span class=p>),</span><span class=w> </span><span class=c1>//input       clk,</span>
</span><span id=__span-3-41><a id=__codelineno-3-41 name=__codelineno-3-41></a><span class=w>    </span><span class=p>.</span><span class=n>rst_n</span><span class=w>       </span><span class=p>(</span><span class=w>  </span><span class=n>rstn_out</span><span class=w>   </span><span class=p>),</span><span class=w> </span><span class=c1>//input       rstn,</span>
</span><span id=__span-3-42><a id=__codelineno-3-42 name=__codelineno-3-42></a>
</span><span id=__span-3-43><a id=__codelineno-3-43 name=__codelineno-3-43></a><span class=w>    </span><span class=p>.</span><span class=n>init_over</span><span class=w>   </span><span class=p>(</span><span class=w>  </span><span class=n>init_over</span><span class=w>  </span><span class=p>),</span><span class=w> </span><span class=c1>//output      init_over,</span>
</span><span id=__span-3-44><a id=__codelineno-3-44 name=__codelineno-3-44></a><span class=w>    </span><span class=p>.</span><span class=n>iic_scl</span><span class=w>     </span><span class=p>(</span><span class=w>  </span><span class=n>hd_scl</span><span class=w>    </span><span class=p>),</span><span class=w> </span><span class=c1>//output      iic_scl,</span>
</span><span id=__span-3-45><a id=__codelineno-3-45 name=__codelineno-3-45></a><span class=w>    </span><span class=p>.</span><span class=n>iic_sda</span><span class=w>     </span><span class=p>(</span><span class=w>  </span><span class=n>hd_sda</span><span class=w>    </span><span class=p>)</span><span class=w>  </span><span class=c1>//inout       iic_sda</span>
</span><span id=__span-3-46><a id=__codelineno-3-46 name=__codelineno-3-46></a><span class=p>);</span>
</span><span id=__span-3-47><a id=__codelineno-3-47 name=__codelineno-3-47></a><span class=c1>//延迟复位</span>
</span><span id=__span-3-48><a id=__codelineno-3-48 name=__codelineno-3-48></a><span class=k>always</span><span class=w> </span><span class=p>@(</span><span class=k>posedge</span><span class=w> </span><span class=n>cfg_clk</span><span class=p>)</span>
</span><span id=__span-3-49><a id=__codelineno-3-49 name=__codelineno-3-49></a><span class=k>begin</span>
</span><span id=__span-3-50><a id=__codelineno-3-50 name=__codelineno-3-50></a><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>locked</span><span class=p>)</span>
</span><span id=__span-3-51><a id=__codelineno-3-51 name=__codelineno-3-51></a><span class=w>        </span><span class=n>rstn_1ms</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mh>16</span><span class=mi>'d0</span><span class=p>;</span>
</span><span id=__span-3-52><a id=__codelineno-3-52 name=__codelineno-3-52></a><span class=w>    </span><span class=k>else</span>
</span><span id=__span-3-53><a id=__codelineno-3-53 name=__codelineno-3-53></a><span class=w>    </span><span class=k>begin</span>
</span><span id=__span-3-54><a id=__codelineno-3-54 name=__codelineno-3-54></a><span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>rstn_1ms</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mh>16'h2710</span><span class=p>)</span>
</span><span id=__span-3-55><a id=__codelineno-3-55 name=__codelineno-3-55></a><span class=w>            </span><span class=n>rstn_1ms</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>rstn_1ms</span><span class=p>;</span>
</span><span id=__span-3-56><a id=__codelineno-3-56 name=__codelineno-3-56></a><span class=w>        </span><span class=k>else</span>
</span><span id=__span-3-57><a id=__codelineno-3-57 name=__codelineno-3-57></a><span class=w>            </span><span class=n>rstn_1ms</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>rstn_1ms</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mh>1</span><span class=mb>'b1</span><span class=p>;</span>
</span><span id=__span-3-58><a id=__codelineno-3-58 name=__codelineno-3-58></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-3-59><a id=__codelineno-3-59 name=__codelineno-3-59></a><span class=k>end</span>
</span><span id=__span-3-60><a id=__codelineno-3-60 name=__codelineno-3-60></a><span class=k>assign</span><span class=w> </span><span class=n>rstn_out</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>rstn_1ms</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mh>16'h2710</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>rstn_in</span><span class=p>;</span>
</span><span id=__span-3-61><a id=__codelineno-3-61 name=__codelineno-3-61></a><span class=c1>//**********************************************//</span>
</span><span id=__span-3-62><a id=__codelineno-3-62 name=__codelineno-3-62></a><span class=no>`else</span>
</span><span id=__span-3-63><a id=__codelineno-3-63 name=__codelineno-3-63></a><span class=k>assign</span><span class=w> </span><span class=n>led_int</span><span class=w>  </span><span class=o>=</span><span class=w>     </span><span class=mh>1</span><span class=p>;</span>
</span><span id=__span-3-64><a id=__codelineno-3-64 name=__codelineno-3-64></a><span class=k>assign</span><span class=w> </span><span class=n>rstn_out</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rstn_in</span><span class=p>;</span>
</span><span id=__span-3-65><a id=__codelineno-3-65 name=__codelineno-3-65></a>
</span><span id=__span-3-66><a id=__codelineno-3-66 name=__codelineno-3-66></a><span class=no>`endif</span>
</span><span id=__span-3-67><a id=__codelineno-3-67 name=__codelineno-3-67></a><span class=c1>//**********************************************//</span>
</span><span id=__span-3-68><a id=__codelineno-3-68 name=__codelineno-3-68></a><span class=c1>//**********************************************//</span>
</span><span id=__span-3-69><a id=__codelineno-3-69 name=__codelineno-3-69></a><span class=c1>//**********************************************//</span>
</span><span id=__span-3-70><a id=__codelineno-3-70 name=__codelineno-3-70></a><span class=c1>//**********************************************//</span>
</span><span id=__span-3-71><a id=__codelineno-3-71 name=__codelineno-3-71></a><span class=kt>wire</span><span class=w> </span><span class=p>[</span><span class=mh>15</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w> </span><span class=n>rgb565</span><span class=p>;</span>
</span><span id=__span-3-72><a id=__codelineno-3-72 name=__codelineno-3-72></a><span class=kt>wire</span><span class=w> </span><span class=p>[</span><span class=mh>15</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w> </span><span class=n>pix_data</span><span class=w> </span><span class=p>;</span>
</span><span id=__span-3-73><a id=__codelineno-3-73 name=__codelineno-3-73></a><span class=kt>wire</span><span class=w> </span><span class=p>[</span><span class=mh>11</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w> </span><span class=n>pix_x</span><span class=p>;</span>
</span><span id=__span-3-74><a id=__codelineno-3-74 name=__codelineno-3-74></a><span class=kt>wire</span><span class=w> </span><span class=p>[</span><span class=mh>11</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w> </span><span class=n>pix_y</span><span class=p>;</span>
</span><span id=__span-3-75><a id=__codelineno-3-75 name=__codelineno-3-75></a><span class=c1>//vga行场同步控制模块</span>
</span><span id=__span-3-76><a id=__codelineno-3-76 name=__codelineno-3-76></a><span class=n>vga_ctrl</span><span class=w>  </span><span class=n>vga_ctrl_inst</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-3-77><a id=__codelineno-3-77 name=__codelineno-3-77></a><span class=w>    </span><span class=p>.</span><span class=n>vga_clk</span><span class=w>        </span><span class=p>(</span><span class=n>sys_clk</span><span class=w>        </span><span class=p>),</span>
</span><span id=__span-3-78><a id=__codelineno-3-78 name=__codelineno-3-78></a><span class=w>    </span><span class=p>.</span><span class=n>sys_rst_n</span><span class=w>      </span><span class=p>(</span><span class=n>rstn_out</span><span class=w>       </span><span class=p>),</span>
</span><span id=__span-3-79><a id=__codelineno-3-79 name=__codelineno-3-79></a><span class=w>    </span><span class=p>.</span><span class=n>pix_data</span><span class=w>       </span><span class=p>(</span><span class=n>pix_data</span><span class=w>       </span><span class=p>),</span>
</span><span id=__span-3-80><a id=__codelineno-3-80 name=__codelineno-3-80></a><span class=w>    </span><span class=p>.</span><span class=n>pix_x</span><span class=w>          </span><span class=p>(</span><span class=n>pix_x</span><span class=w>          </span><span class=p>),</span>
</span><span id=__span-3-81><a id=__codelineno-3-81 name=__codelineno-3-81></a><span class=w>    </span><span class=p>.</span><span class=n>pix_y</span><span class=w>          </span><span class=p>(</span><span class=n>pix_y</span><span class=w>          </span><span class=p>),</span>
</span><span id=__span-3-82><a id=__codelineno-3-82 name=__codelineno-3-82></a><span class=w>    </span><span class=p>.</span><span class=n>hsync</span><span class=w>          </span><span class=p>(</span><span class=n>hs_out</span><span class=w>         </span><span class=p>),</span>
</span><span id=__span-3-83><a id=__codelineno-3-83 name=__codelineno-3-83></a><span class=w>    </span><span class=p>.</span><span class=n>vsync</span><span class=w>          </span><span class=p>(</span><span class=n>vs_out</span><span class=w>         </span><span class=p>),</span>
</span><span id=__span-3-84><a id=__codelineno-3-84 name=__codelineno-3-84></a><span class=w>    </span><span class=p>.</span><span class=n>rgb_valid</span><span class=w>      </span><span class=p>(</span><span class=n>de_out</span><span class=w>         </span><span class=p>),</span>
</span><span id=__span-3-85><a id=__codelineno-3-85 name=__codelineno-3-85></a><span class=w>    </span><span class=p>.</span><span class=n>rgb</span><span class=w>            </span><span class=p>(</span><span class=n>rgb565</span><span class=w>         </span><span class=p>)</span>
</span><span id=__span-3-86><a id=__codelineno-3-86 name=__codelineno-3-86></a><span class=w>  </span><span class=p>);</span>
</span><span id=__span-3-87><a id=__codelineno-3-87 name=__codelineno-3-87></a><span class=c1>//彩条数据生成模块</span>
</span><span id=__span-3-88><a id=__codelineno-3-88 name=__codelineno-3-88></a><span class=n>vga_pic</span><span class=w>  </span><span class=n>vga_pic_inst</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-3-89><a id=__codelineno-3-89 name=__codelineno-3-89></a><span class=w>    </span><span class=p>.</span><span class=n>vga_clk</span><span class=w>        </span><span class=p>(</span><span class=n>sys_clk</span><span class=w>        </span><span class=p>),</span>
</span><span id=__span-3-90><a id=__codelineno-3-90 name=__codelineno-3-90></a><span class=w>    </span><span class=p>.</span><span class=n>sys_rst_n</span><span class=w>      </span><span class=p>(</span><span class=n>rstn_out</span><span class=w>       </span><span class=p>),</span>
</span><span id=__span-3-91><a id=__codelineno-3-91 name=__codelineno-3-91></a><span class=w>    </span><span class=p>.</span><span class=n>pix_x</span><span class=w>          </span><span class=p>(</span><span class=n>pix_x</span><span class=w>          </span><span class=p>),</span>
</span><span id=__span-3-92><a id=__codelineno-3-92 name=__codelineno-3-92></a><span class=w>    </span><span class=p>.</span><span class=n>pix_y</span><span class=w>          </span><span class=p>(</span><span class=n>pix_y</span><span class=w>          </span><span class=p>),</span>
</span><span id=__span-3-93><a id=__codelineno-3-93 name=__codelineno-3-93></a><span class=w>    </span><span class=p>.</span><span class=n>pix_data_out</span><span class=w>   </span><span class=p>(</span><span class=n>pix_data</span><span class=w>       </span><span class=p>)</span>
</span><span id=__span-3-94><a id=__codelineno-3-94 name=__codelineno-3-94></a><span class=w>  </span><span class=p>);</span>
</span><span id=__span-3-95><a id=__codelineno-3-95 name=__codelineno-3-95></a><span class=c1>//RGB565转RGB888</span>
</span><span id=__span-3-96><a id=__codelineno-3-96 name=__codelineno-3-96></a><span class=w>    </span><span class=k>assign</span><span class=w> </span><span class=n>pixclk_out</span><span class=w>   </span><span class=o>=</span><span class=w>  </span><span class=n>sys_clk</span><span class=w>    </span><span class=p>;</span><span class=c1>//直接使用27M时钟，与25.175相差不大</span>
</span><span id=__span-3-97><a id=__codelineno-3-97 name=__codelineno-3-97></a><span class=w>    </span><span class=k>assign</span><span class=w> </span><span class=n>r_out</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>rgb565</span><span class=p>[</span><span class=mh>15</span><span class=o>:</span><span class=mh>11</span><span class=p>],</span><span class=mh>3</span><span class=mb>'b0</span><span class=p>};</span>
</span><span id=__span-3-98><a id=__codelineno-3-98 name=__codelineno-3-98></a><span class=w>    </span><span class=k>assign</span><span class=w> </span><span class=n>g_out</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>rgb565</span><span class=p>[</span><span class=mh>10</span><span class=o>:</span><span class=w> </span><span class=mh>5</span><span class=p>],</span><span class=mh>2</span><span class=mb>'b0</span><span class=p>};</span>
</span><span id=__span-3-99><a id=__codelineno-3-99 name=__codelineno-3-99></a><span class=w>    </span><span class=k>assign</span><span class=w> </span><span class=n>b_out</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>rgb565</span><span class=p>[</span><span class=w> </span><span class=mh>4</span><span class=o>:</span><span class=w> </span><span class=mh>0</span><span class=p>],</span><span class=mh>3</span><span class=mb>'b0</span><span class=p>};</span>
</span><span id=__span-3-100><a id=__codelineno-3-100 name=__codelineno-3-100></a><span class=k>endmodule</span>
</span></code></pre></div></td></tr></tbody></table></div> <h3 id=_7>仿真验证<a class=headerlink href=#_7 title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h3> <p>由于仿真不需要对<span class=heti-skip><span class=heti-spacing> </span>MS7210<span class=heti-spacing> </span></span>芯片进行初始化，所以我们在<span class=heti-skip><span class=heti-spacing> </span>top<span class=heti-spacing> </span></span>文件中加入条件编译指令，并且在仿真文件中定义<span class=heti-skip><span class=heti-spacing> </span>SIM<span class=heti-spacing> </span></span>宏，那么就可以在仿真中不编译<span class=heti-skip><span class=heti-spacing> </span>ms7210<span class=heti-spacing> </span></span>初始化相关代码，只对<span class=heti-skip><span class=heti-spacing> </span>vga<span class=heti-spacing> </span></span>时序进行仿真。我们只需要提供时钟和复位，即可对模块进行仿真。仿真文件如下所示：</p> <div class="language-verilog highlight"><table class=highlighttable><tbody><tr><th class=filename colspan=2><span class=filename>Verilog</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-4-1> 1</a></span>
<span class=normal><a href=#__codelineno-4-2> 2</a></span>
<span class=normal><a href=#__codelineno-4-3> 3</a></span>
<span class=normal><a href=#__codelineno-4-4> 4</a></span>
<span class=normal><a href=#__codelineno-4-5> 5</a></span>
<span class=normal><a href=#__codelineno-4-6> 6</a></span>
<span class=normal><a href=#__codelineno-4-7> 7</a></span>
<span class=normal><a href=#__codelineno-4-8> 8</a></span>
<span class=normal><a href=#__codelineno-4-9> 9</a></span>
<span class=normal><a href=#__codelineno-4-10>10</a></span>
<span class=normal><a href=#__codelineno-4-11>11</a></span>
<span class=normal><a href=#__codelineno-4-12>12</a></span>
<span class=normal><a href=#__codelineno-4-13>13</a></span>
<span class=normal><a href=#__codelineno-4-14>14</a></span>
<span class=normal><a href=#__codelineno-4-15>15</a></span>
<span class=normal><a href=#__codelineno-4-16>16</a></span>
<span class=normal><a href=#__codelineno-4-17>17</a></span>
<span class=normal><a href=#__codelineno-4-18>18</a></span>
<span class=normal><a href=#__codelineno-4-19>19</a></span>
<span class=normal><a href=#__codelineno-4-20>20</a></span>
<span class=normal><a href=#__codelineno-4-21>21</a></span>
<span class=normal><a href=#__codelineno-4-22>22</a></span>
<span class=normal><a href=#__codelineno-4-23>23</a></span>
<span class=normal><a href=#__codelineno-4-24>24</a></span>
<span class=normal><a href=#__codelineno-4-25>25</a></span>
<span class=normal><a href=#__codelineno-4-26>26</a></span>
<span class=normal><a href=#__codelineno-4-27>27</a></span>
<span class=normal><a href=#__codelineno-4-28>28</a></span>
<span class=normal><a href=#__codelineno-4-29>29</a></span>
<span class=normal><a href=#__codelineno-4-30>30</a></span>
<span class=normal><a href=#__codelineno-4-31>31</a></span>
<span class=normal><a href=#__codelineno-4-32>32</a></span>
<span class=normal><a href=#__codelineno-4-33>33</a></span>
<span class=normal><a href=#__codelineno-4-34>34</a></span>
<span class=normal><a href=#__codelineno-4-35>35</a></span>
<span class=normal><a href=#__codelineno-4-36>36</a></span>
<span class=normal><a href=#__codelineno-4-37>37</a></span>
<span class=normal><a href=#__codelineno-4-38>38</a></span>
<span class=normal><a href=#__codelineno-4-39>39</a></span>
<span class=normal><a href=#__codelineno-4-40>40</a></span>
<span class=normal><a href=#__codelineno-4-41>41</a></span>
<span class=normal><a href=#__codelineno-4-42>42</a></span>
<span class=normal><a href=#__codelineno-4-43>43</a></span>
<span class=normal><a href=#__codelineno-4-44>44</a></span>
<span class=normal><a href=#__codelineno-4-45>45</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1></a><span class=no>`timescale</span><span class=w> </span><span class=mh>1</span><span class=n>ns</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mh>1</span><span class=n>ns</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2></a><span class=cp>`define SIM</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3></a><span class=k>module</span><span class=w> </span><span class=n>hdmi_top_tb</span><span class=p>;</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4></a>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5></a><span class=w>  </span><span class=c1>// Parameters</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6></a>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7></a><span class=w>  </span><span class=c1>//Ports</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8></a><span class=w>  </span><span class=kt>reg</span><span class=w>  </span><span class=n>sys_clk</span><span class=p>;</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9></a><span class=w>  </span><span class=kt>reg</span><span class=w> </span><span class=n>rstn_in</span><span class=p>;</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10></a><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=n>rstn_out</span><span class=p>;</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11></a><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=n>hd_scl</span><span class=p>;</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12></a><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=n>hd_sda</span><span class=p>;</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13></a><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=n>led_int</span><span class=p>;</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14></a><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=n>pixclk_out</span><span class=p>;</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15></a><span class=w>  </span><span class=kt>wire</span><span class=w>  </span><span class=n>vs_out</span><span class=p>;</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16></a><span class=w>  </span><span class=kt>wire</span><span class=w>  </span><span class=n>hs_out</span><span class=p>;</span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17></a><span class=w>  </span><span class=kt>wire</span><span class=w>  </span><span class=n>de_out</span><span class=p>;</span>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18></a><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=p>[</span><span class=mh>7</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w> </span><span class=n>r_out</span><span class=p>;</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19></a><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=p>[</span><span class=mh>7</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w> </span><span class=n>g_out</span><span class=p>;</span>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20></a><span class=w>  </span><span class=kt>wire</span><span class=w> </span><span class=p>[</span><span class=mh>7</span><span class=o>:</span><span class=mh>0</span><span class=p>]</span><span class=w> </span><span class=n>b_out</span><span class=p>;</span>
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21></a>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22></a><span class=w>  </span><span class=k>initial</span><span class=w> </span><span class=k>begin</span>
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23></a><span class=w>    </span><span class=n>sys_clk</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mh>0</span><span class=p>;</span>
</span><span id=__span-4-24><a id=__codelineno-4-24 name=__codelineno-4-24></a><span class=w>    </span><span class=n>rstn_in</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mh>0</span><span class=p>;</span>
</span><span id=__span-4-25><a id=__codelineno-4-25 name=__codelineno-4-25></a><span class=w>    </span><span class=p>#</span><span class=mh>100</span>
</span><span id=__span-4-26><a id=__codelineno-4-26 name=__codelineno-4-26></a><span class=w>    </span><span class=n>rstn_in</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mh>1</span><span class=p>;</span>
</span><span id=__span-4-27><a id=__codelineno-4-27 name=__codelineno-4-27></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-4-28><a id=__codelineno-4-28 name=__codelineno-4-28></a><span class=w>  </span><span class=k>always</span><span class=w> </span><span class=p>#(</span><span class=mh>500</span><span class=o>/</span><span class=mh>27</span><span class=p>)</span><span class=w> </span><span class=n>sys_clk</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>~</span><span class=n>sys_clk</span><span class=p>;</span>
</span><span id=__span-4-29><a id=__codelineno-4-29 name=__codelineno-4-29></a><span class=w>  </span><span class=n>hdmi_top</span><span class=w>  </span><span class=n>hdmi_top_inst</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-4-30><a id=__codelineno-4-30 name=__codelineno-4-30></a><span class=w>    </span><span class=p>.</span><span class=n>sys_clk</span><span class=p>(</span><span class=n>sys_clk</span><span class=p>),</span>
</span><span id=__span-4-31><a id=__codelineno-4-31 name=__codelineno-4-31></a><span class=w>    </span><span class=p>.</span><span class=n>rstn_in</span><span class=p>(</span><span class=n>rstn_in</span><span class=p>),</span>
</span><span id=__span-4-32><a id=__codelineno-4-32 name=__codelineno-4-32></a><span class=w>    </span><span class=p>.</span><span class=n>rstn_out</span><span class=p>(</span><span class=n>rstn_out</span><span class=p>),</span>
</span><span id=__span-4-33><a id=__codelineno-4-33 name=__codelineno-4-33></a><span class=w>    </span><span class=p>.</span><span class=n>hd_scl</span><span class=p>(</span><span class=n>hd_scl</span><span class=p>),</span>
</span><span id=__span-4-34><a id=__codelineno-4-34 name=__codelineno-4-34></a><span class=w>    </span><span class=p>.</span><span class=n>hd_sda</span><span class=p>(</span><span class=n>hd_sda</span><span class=p>),</span>
</span><span id=__span-4-35><a id=__codelineno-4-35 name=__codelineno-4-35></a><span class=w>    </span><span class=p>.</span><span class=n>led_int</span><span class=p>(</span><span class=n>led_int</span><span class=p>),</span>
</span><span id=__span-4-36><a id=__codelineno-4-36 name=__codelineno-4-36></a><span class=w>    </span><span class=p>.</span><span class=n>pixclk_out</span><span class=p>(</span><span class=n>pixclk_out</span><span class=p>),</span>
</span><span id=__span-4-37><a id=__codelineno-4-37 name=__codelineno-4-37></a><span class=w>    </span><span class=p>.</span><span class=n>vs_out</span><span class=p>(</span><span class=n>vs_out</span><span class=p>),</span>
</span><span id=__span-4-38><a id=__codelineno-4-38 name=__codelineno-4-38></a><span class=w>    </span><span class=p>.</span><span class=n>hs_out</span><span class=p>(</span><span class=n>hs_out</span><span class=p>),</span>
</span><span id=__span-4-39><a id=__codelineno-4-39 name=__codelineno-4-39></a><span class=w>    </span><span class=p>.</span><span class=n>de_out</span><span class=p>(</span><span class=n>de_out</span><span class=p>),</span>
</span><span id=__span-4-40><a id=__codelineno-4-40 name=__codelineno-4-40></a><span class=w>    </span><span class=p>.</span><span class=n>r_out</span><span class=p>(</span><span class=n>r_out</span><span class=p>),</span>
</span><span id=__span-4-41><a id=__codelineno-4-41 name=__codelineno-4-41></a><span class=w>    </span><span class=p>.</span><span class=n>g_out</span><span class=p>(</span><span class=n>g_out</span><span class=p>),</span>
</span><span id=__span-4-42><a id=__codelineno-4-42 name=__codelineno-4-42></a><span class=w>    </span><span class=p>.</span><span class=n>b_out</span><span class=p>(</span><span class=n>b_out</span><span class=p>)</span>
</span><span id=__span-4-43><a id=__codelineno-4-43 name=__codelineno-4-43></a><span class=w>  </span><span class=p>);</span>
</span><span id=__span-4-44><a id=__codelineno-4-44 name=__codelineno-4-44></a>
</span><span id=__span-4-45><a id=__codelineno-4-45 name=__codelineno-4-45></a><span class=k>endmodule</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>直接点击<span class=heti-skip><span class=heti-spacing> </span>sim<span class=heti-spacing> </span></span>文件夹下<span class=heti-skip><span class=heti-spacing> </span>hebav<span class=heti-spacing> </span></span>文件夹中的<span class=heti-skip><span class=heti-spacing> </span>do.bat<span class=heti-spacing> </span></span>文件即可利用<span class=heti-skip><span class=heti-spacing> </span>ModuleSim<span class=heti-spacing> </span></span>对模块进行仿真，仿真波形如下：</p> <figure id=__figure-caption_11> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_10.png><img alt=仿真波形（一） src=../images/06_10.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 11.<span class=heti-spacing> </span></span></span>仿真波形（一）</p> </figcaption> </figure> <p>从上图我们可以发现<span class=heti-skip><span class=heti-spacing> </span>vsync<span class=heti-spacing> </span></span>信号拉高了两个行同步信号的长度，与设计相符</p> <figure id=__figure-caption_12> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_11.png><img alt=仿真波形（二） src=../images/06_11.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 12.<span class=heti-spacing> </span></span></span>仿真波形（二）</p> </figcaption> </figure> <figure id=__figure-caption_13> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_12.png><img alt=仿真波形（三） src=../images/06_12.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 13.<span class=heti-spacing> </span></span></span>仿真波形（三）</p> </figcaption> </figure> <p>从图<span class=heti-skip><span class=heti-spacing> </span>11<span class=heti-spacing> </span></span>和<span class=heti-skip><span class=heti-spacing> </span>12<span class=heti-spacing> </span></span>中我们可以看到当<span class=heti-skip><span class=heti-spacing> </span>cnt_h<span class=heti-spacing> </span></span>信号计数结束后会恢复<span><span class=heti-spacing> </span>0</span>，<span>cnt_v<span class=heti-spacing> </span></span>会加一，<span>hsync<span class=heti-spacing> </span></span>信号会拉高<span class=heti-skip><span class=heti-spacing> </span>96<span class=heti-spacing> </span></span>个像素时钟（0~95）<span>cnt_h<span class=heti-spacing> </span></span>和<span class=heti-skip><span class=heti-spacing> </span>hsync<span class=heti-spacing> </span></span>与设计相符。</p> <figure id=__figure-caption_14> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_13.png><img alt=仿真波形（四） src=../images/06_13.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 14.<span class=heti-spacing> </span></span></span>仿真波形（四）</p> </figcaption> </figure> <p>如图<span class=heti-skip><span class=heti-spacing> </span>13<span class=heti-spacing> </span></span>所示，当<span class=heti-skip><span class=heti-spacing> </span>cnt_h<span class=heti-spacing> </span></span>计数到<span><span class=heti-spacing> </span>H_SYNC + H_BACK + H_LEFT</span>，也就是<span class=heti-skip><span class=heti-spacing> </span>144<span class=heti-spacing> </span></span>时，<span>rgb_valid<span class=heti-spacing> </span></span>拉高，<span>xy<span class=heti-spacing> </span></span>轴坐标比<span class=heti-skip><span class=heti-spacing> </span>rgb_valid<span class=heti-spacing> </span></span>提前一个时钟周期，以便<span class=heti-skip><span class=heti-spacing> </span>pix_data<span class=heti-spacing> </span></span>准备好数据，符合设计。</p> <figure id=__figure-caption_15> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=100% href=../images/06_14.png><img alt=仿真波形（五） src=../images/06_14.png></a></p> <figcaption> <p><span class=caption-prefix><span>Figure 15.<span class=heti-spacing> </span></span></span>仿真波形（五）</p> </figcaption> </figure> <p>从每一行看，每一行被分成了<span class=heti-skip><span class=heti-spacing> </span>10<span class=heti-spacing> </span></span>个部分，每部分像素数据分别对应不同颜色，符合设计要求。可以进行下一步上板验证。</p> <h3 id=_8>上板验证<a class=headerlink href=#_8 title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h3> <p>仿真已经通过，可以进行上板验证，上板前要先进行管脚约束。端口与对应管脚如下表所示：</p> <figure id=__table-caption_3> <table> <thead> <tr> <th style="text-align: center;">端口名称</th> <th style="text-align: center;">信号类型</th> <th style="text-align: center;">对应管脚</th> <th style="text-align: center;">功能</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">sysclk</td> <td style="text-align: center;">Input</td> <td style="text-align: center;">D18</td> <td style="text-align: center;"><span>27M<span class=heti-spacing> </span></span>时钟</td> </tr> <tr> <td style="text-align: center;">rstn_in</td> <td style="text-align: center;">Input</td> <td style="text-align: center;">C22</td> <td style="text-align: center;">外部输入复位</td> </tr> <tr> <td style="text-align: center;">rstn_out</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">G25</td> <td style="text-align: center;">输出<span class=heti-skip><span class=heti-spacing> </span>ms7210<span class=heti-spacing> </span></span>复位</td> </tr> <tr> <td style="text-align: center;">hd_scl</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">K22</td> <td style="text-align: center;"><span>iic SCL<span class=heti-spacing> </span></span>信号</td> </tr> <tr> <td style="text-align: center;">hd_sda</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">K23</td> <td style="text-align: center;"><span>iic SDA<span class=heti-spacing> </span></span>信号</td> </tr> <tr> <td style="text-align: center;">led_int</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">A20</td> <td style="text-align: center;">配置完成信号</td> </tr> <tr> <td style="text-align: center;">pixclk_out</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">G25</td> <td style="text-align: center;">像素时钟输出</td> </tr> <tr> <td style="text-align: center;">vs_out</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">R21</td> <td style="text-align: center;"><span>Vsync<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">hs_out</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">R20</td> <td style="text-align: center;"><span>Hsync<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">de_out</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">N19</td> <td style="text-align: center;"><span>RGB_valid<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">r_out[0]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">N21</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">r_out[1]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">L23</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">r_out[2]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">L22</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">r_out[3]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">L25</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">r_out[4]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">L24</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">r_out[5]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">K26</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">r_out[6]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">K25</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">r_out[7]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">P16</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">g_out[0]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">T25</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">g_out[1]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">P25</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">g_out[2]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">R25</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">g_out[3]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">P24</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">g_out[4]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">P23</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">g_out[5]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">N24</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">g_out[6]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">N23</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">g_out[7]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">N22</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">b_out[0]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">P19</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">b_out[1]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">P21</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">b_out[2]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">P20</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">b_out[3]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">M22</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">b_out[4]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">M21</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">b_out[5]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">N18</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">b_out[6]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">R22</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> <tr> <td style="text-align: center;">b_out[7]</td> <td style="text-align: center;">Output</td> <td style="text-align: center;">T22</td> <td style="text-align: center;"><span>RGB888<span class=heti-spacing> </span></span>输出</td> </tr> </tbody> </table> <figcaption> <p><span class=caption-prefix><span>Table 3.<span class=heti-spacing> </span></span></span><span>HDMI<span class=heti-spacing> </span></span>彩条显示管脚表</p> </figcaption> </figure> <p>管脚分配可以直接编写<span class=heti-skip><span class=heti-spacing> </span>.fdc<span class=heti-spacing> </span></span>文件，也可以使用<span class=heti-skip><span class=heti-spacing> </span>PDS<span class=heti-spacing> </span></span>内置的工具进行分配。完成管脚分配之后就可以生成<span class=heti-skip><span class=heti-spacing> </span>sbit<span class=heti-spacing> </span></span>文件，将文件提交到网站后点击烧录，即可将<span class=heti-skip><span class=heti-spacing> </span>sbit<span class=heti-spacing> </span></span>下载到实验板中，在摄像头页面即可观察到显示屏中显示出彩条。</p> <h2 id=_9>章末总结<a class=headerlink href=#_9 title="Permanent link"><span><span class=heti-spacing> </span>¶</span></a></h2> <p>本次实验主要学习<span class=heti-skip><span class=heti-spacing> </span>VGA<span class=heti-spacing> </span></span>时序的相关知识，并使用<span class=heti-skip><span class=heti-spacing> </span>HD<span class=heti-spacing> </span></span>硬核进行<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>显示，感兴趣的同学可以尝试使用<span class=heti-skip><span class=heti-spacing> </span>HDMI<span class=heti-spacing> </span></span>显示其他图像。</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="January 4, 2026 00:00:16 CST"><span class=timeago datetime=2026-01-04T00:00:16+08:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="January 4, 2026 00:00:16 CST">2026-01-04</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="January 4, 2026 00:00:16 CST"><span class=timeago datetime=2026-01-04T00:00:16+08:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="January 4, 2026 00:00:16 CST">2026-01-04</span> </span> </aside> <h2 id=__comments>评论</h2> <!-- Insert generated snippet here --> <script async crossorigin=anonymous data-category=Announcements data-category-id=DIC_kwDOP3Prz84CwBjS data-emit-metadata=0 data-input-position=top data-lang=zh-CN data-mapping=pathname data-reactions-enabled=1 data-repo=Alivenderwww/Alivenderwww.github.io data-repo-id=R_kgDOP3Przw data-strict=0 data-theme=https://blog.dpp-alivender.life/stylesheets/comments_light.css src=https://giscus.app/client.js>
</script> <!-- Synchronize Giscus theme with palette --> <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "https://blog.dpp-alivender.life/stylesheets/comments_dark.css"
        : "https://blog.dpp-alivender.life/stylesheets/comments_light.css"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    // Handled by theme.js now to support dynamic colors
    /*
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "https://blog.dpp-alivender.life/stylesheets/comments_dark.css"
            : "https://blog.dpp-alivender.life/stylesheets/comments_light.css"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
    */
  </script> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component=top hidden type=button> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> </div> <div class=md-social> <a class=md-social__link href=https://github.com/Alivenderwww rel=noopener target=_blank title=github.com> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> <a class=md-social__link href=mailto:dppp@mail.dlut.edu.cn rel=noopener target=_blank title> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"></path></svg> </a> <a class=md-social__link href=/feed_rss_created.xml rel=noopener target=_blank title> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64m0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0m32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../../..", "features": ["announce.dismiss", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.top", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.tracking", "toc.follow", "search.suggest", "search.highlight", "search.share", "content.tabs.link", "content.tooltips", "content.code.copy", "content.code.annotate", "content.action.edit", "content.action.view"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../../js/timeago.min.js></script> <script src=../../../js/timeago_mkdocs_material.js></script> <script src=../../../javascripts/pixi_importmap.js></script> <script src=../../../javascripts/extra.js></script> <script src=../../../javascripts/spine_loader.js></script> <script src=https://cdn.jsdelivr.net/gh/Wcowin/Wcowin.github.io@main/docs/javascripts/extra.js></script> <script src=../../../javascripts/theme-switch-animation.js></script> <script src=../../../javascripts/theme.js></script> <script src=../../../javascripts/audio-spectrum.js></script> <script src=../../../javascripts/katex.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js></script> <script src=https://cdn.jsdelivr.net/npm/mermaid@10.0.2/dist/add-html-label-6e56ed67.min.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>