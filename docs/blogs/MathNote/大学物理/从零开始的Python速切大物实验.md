---
title: 'ä»é›¶å¼€å§‹çš„Pythoné€Ÿåˆ‡å¤§ç‰©å®éªŒğŸƒ'
date: '2025-06-28'
comment: True
---

è¯»å®Œè¿™ä¸ªæ•™ç¨‹ï¼Œä½ å°†å­¦ä¼šç”¨pythonå¤„ç†ç®€å•çš„æ•°æ®å¹¶å°†å…¶å¯è§†åŒ–ã€‚æœ¬æ•™ç¨‹çš„æœ€ç»ˆç›®çš„æ˜¯è§£å†³å¤§ç‰©å®éªŒä¸­è¦æ±‚çš„ä¸€ç³»åˆ—æ•°æ®å¤„ç†ä»»åŠ¡ï¼Œå› æ­¤ä¸ä¼šè®²pythonè¯­æ³•ï¼Œæ˜¯å½»åº•çš„å®ç”¨ä¸»ä¹‰ï¼Œé€‚åˆä»æ²¡æœ‰ç”¨è¿‡pythonçš„ï¼Œæˆ–è€…åªä¼šä¸€ç‚¹çš„ï¼Œæˆ–è€…æƒ³ç”¨pythonå¤„ç†å¤§ç‰©å®éªŒçš„äººå­¦ä¹ ã€‚

## ç¯å¢ƒæ­å»º

### Visual Studio Code

**å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚**åœ¨å†™pythonä¹‹å‰ï¼Œæˆ‘ä»¬è¦æœ‰ä¸€ä¸ªè¶æ‰‹çš„IDEï¼ˆé›†æˆå¼€å‘ç¯å¢ƒï¼‰ã€‚å°±å¥½åƒä¸å®‰è£…è®°äº‹æœ¬ï¼Œå°±æ— æ³•æ‰“å¼€.txtæ–‡ä»¶ä¸€æ ·ï¼Œä¸å®‰è£…IDEï¼Œä¹Ÿå°±æ— æ³•æ‰“å¼€.pyæ–‡ä»¶ï¼ˆè¿™æ˜¯pythonæ–‡ä»¶çš„æ ¼å¼ï¼‰ã€‚æˆ‘å¸¸ç”¨Visual Studio Codeï¼Œè½»é‡åŒ–ï¼Œä¸»é¢˜ä¸°å¯Œï¼Œç•Œé¢å¥½çœ‹ï¼Œè€Œä¸”åŠŸèƒ½ç”±ç”¨æˆ·å†³å®šï¼Œå®‰è£…ä»€ä¹ˆæ’ä»¶å°±æœ‰ä»€ä¹ˆåŠŸèƒ½ã€‚

[Visual Studio Code - Code Editing. Redefined](https://code.visualstudio.com/)

æ‰“å¼€ï¼ŒDownloadï¼Œå®‰è£…ã€‚

**å»ºè®®æŠŠ"å³é”®é€šè¿‡Codeæ‰“å¼€"ï¼Œ"æ·»åŠ åˆ°PATH" é€‰é¡¹å‹¾ä¸Šï¼Œæ–¹ä¾¿åç»­æ“ä½œã€‚**

ç„¶åæ‰“å¼€VS codeï¼ˆç®€ç§°ï¼‰ï¼Œè¿›å…¥åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œæœç´¢Chineseï¼Œå®‰è£…Chineseç®€ä½“ä¸­æ–‡è¯­è¨€åŒ…ã€‚

![image-20231109221050288](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231109221050288.png)

/// figure-caption
image-20231109221050288
///

å®‰è£…å¾ˆå¿«ï¼Œéšåå°±ä¼šå¼¹å‡ºè¿™æ ·çš„ç•Œé¢ï¼š

![image-20231109221143640](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231109221143640.png)

/// figure-caption
image-20231109221143640
///

é€‰æ”¹å˜è¯­è¨€å¹¶é‡å¯ã€‚VScodeå°±æ˜¯ä¸­æ–‡ç•Œé¢äº†ã€‚

ç„¶ååŒä¸Šé¢æ“ä½œï¼Œå®‰è£…Pythonæ’ä»¶ã€‚

![image-20231109221430188](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231109221430188.png)

/// figure-caption
image-20231109221430188
///

æ³¨æ„å“ˆï¼Œè¿™ä¸ªPythonæ˜¯è®©VS codeèƒ½å¯¹Pythonæ–‡ä»¶æœ‰é«˜äº®ï¼Œæç¤ºç­‰åŠŸèƒ½è€Œå·²ï¼Œå¹¶ä¸æ˜¯å®‰è£…äº†pythonã€‚

ç°åœ¨ä½ å¯ä»¥åœ¨ç”µè„‘ç›˜é‡ŒæŒ‘é€‰ä¸€ä¸ª**æ²¡æœ‰ç©ºæ ¼å’Œä¸­æ–‡çš„**è·¯å¾„æ–°å»ºæ–‡ä»¶å¤¹ï¼Œå¹¶å³é”® é€šè¿‡ Code æ‰“å¼€ã€‚

![image-20231109222501829](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231109222501829.png)

/// figure-caption
image-20231109222501829
///

åœ¨é‡Œé¢åˆ›å»ºä¸€ä¸ª xxx.py æ–‡ä»¶ã€‚

![image-20231109222546713](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231109222546713.png)

/// figure-caption
image-20231109222546713
///

ç¼–ä¸€ä¸ªç®€å•çš„ç¨‹åºï¼š

```python
print("Hello, World!")
```



### Pythonæœ¬ä½“

!!! Tip
    pythonçš„å®‰è£…æ–¹å¼æœ‰å¾ˆå¤šï¼Œæˆ‘è¿˜æ˜¯å»ºè®®Anacondaã€‚


## æ•°æ®çš„å¯¼å…¥

### excel

åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªxxx.xlsxï¼ŒæŠŠä½ çš„æŠ¥å‘Šä¸Šçš„æ•°æ®è¾“åˆ°è¡¨æ ¼é‡Œã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

![image-20231109225126941](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231109225126941.png)

/// figure-caption
image-20231109225126941
///

è®°ä½è¡¨æ ¼æ‰€å¤„çš„è¡Œåˆ—ä½ç½®ï¼šåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æ˜¯ 23-28è¡Œï¼Œ1-11è¡Œã€‚

åç»­æ•°æ®å¤„ç†ï¼Œå°†ç»Ÿä¸€æŒ‰ç…§å¦‚ä¸‹çš„æ ¼å¼è¾“å…¥æ•°æ®ï¼š

![image-20231109225419713](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231109225419713.png)

/// figure-caption
image-20231109225419713
///

### pandas

```python
#å°†importè¯­å¥æ”¾åˆ°æ–‡ä»¶çš„æœ€å‰é¢
import pandas as pd
```

pandasæ˜¯ä¸€ä¸ªpythonåº“ï¼Œå¯ä»¥ç”¨å®ƒå¤„ç†excelè¡¨æ ¼ä¸­çš„æ•°æ®ï¼Œå°†å…¶æå–åˆ°ç¨‹åºçš„å˜é‡ä¸­ï¼Œè¿˜å¯ä»¥ä¿®æ”¹ï¼Œæ·»åŠ Excelè¡¨æ ¼å†…å®¹ã€‚ä»‹ç»æœ€åŸºæœ¬çš„å†…å®¹ï¼šè¯»å–è¡¨æ ¼ã€‚

`import xxxx as yy` è¡¨ç¤ºå¯¼å…¥ `xxxx` åº“ï¼Œå¹¶å°†å…¶ç®€è®°ä¸º `yy`ã€‚ä¸‹æ–‡ä¸­å‡ºç°çš„ `pd.read_excel()` ä¸­çš„ `pd` å°±æ˜¯ `pandas` è‡ªå®šä¹‰çš„ç¼©å†™ã€‚

```python
io = "ä½ çš„xlsxæ–‡ä»¶åå­—.xlsx"
data = pd.read_excel(io, sheet_name=0, header=22, index_col=0)
data_head = data.iloc[0:5, 0:10]
data_values = data_head.values
```

`io` æ˜¯å­—ç¬¦ä¸²å˜é‡ã€‚å…¶è®°å½•äº†è¡¨æ ¼çš„åå­—ã€‚

`read_excel()`æ˜¯ pandas çš„è¯»å–excelè¡¨æ ¼çš„å‡½æ•°ã€‚ `sheet_name=0`è¯»å–äº†ç¬¬ä¸€ä¸ªå·¥ä½œè¡¨ï¼Œ`header=22`è¡¨ç¤ºè¡Œè¡¨å¤´åœ¨ç¬¬23è¡Œï¼Œ`index_col=0`è¡¨ç¤ºåˆ—è¡¨å¤´åœ¨ç¬¬1è¡Œã€‚

`.iloc[a:b, c:d]`æ˜¯å¯¹è¡¨è¿›è¡Œæˆªå–ã€‚å³æˆªå–äº†**ä»è¡Œè¡¨å¤´**å¾€ä¸‹ a åˆ° b-1 è¡Œï¼Œå’Œ**ä»åˆ—è¡¨å¤´**å¾€å³ c åˆ° d-1 åˆ—çš„åŒºåŸŸã€‚

`.values`å°†`data_head`ä¸­çš„è¡¨å¤´å»é™¤ï¼Œåªä¿ç•™æ•°æ®ã€‚ç°åœ¨ï¼Œ`data_values`æ˜¯ä¸€ä¸ª 10Ã—5 äºŒç»´æ•°ç»„ï¼Œå…¶ä¸­`data_values[0]`æ˜¯æ¨ªåæ ‡ã€‚

## è®¡ç®—

ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å¯¼å…¥çš„æ•°ç»„ï¼ˆæ•°æ®ï¼‰åšä¸€äº›è¿ç®—å¤„ç†ï¼Œç„¶åå†åšå¯è§†åŒ–å›¾è¡¨ã€‚ä¸‹é¢æˆ‘ä¸¾äº†ä¸€äº›åœ¨å¤§ç‰©å®éªŒæˆ–è€…åˆ«çš„å®éªŒä¸­å¸¸è§çš„ï¼Œå¯èƒ½ä¼šç”¨ä¸Šçš„è®¡ç®—æ–¹æ³•ã€‚

### ç®€å•çš„åŠ å‡ä¹˜é™¤å¯¹æŒ‡æ¬¡å¹‚è¿ç®—

ä¸€èˆ¬çš„åŠ å‡ä¹˜é™¤å¯¹æŒ‡æ¬¡å¹‚ï¼Œç›´æ¥ç¬¦å·è¿ç®—å³å¯ï¼Œeasyã€‚

```py
    #åœ¨å·¨ç£ç”µé˜»æ•ˆåº”å®éªŒä¸­ï¼Œéœ€è¦è¿›è¡Œçš„å°è®¡ç®—
    #dataå³è¡¨æ ¼è·å–çš„æ•°æ®
    data[0] = data[0] * 4 * 3.1415936 * 0.1 * 24   #å•ä½ï¼šå¾®ç‰¹æ–¯æ‹‰
    data[1] = 4 / data[1] #å•ä½ï¼šåƒæ¬§
    data[2] = 4 / data[2]
```

### sympy è§£æ–¹ç¨‹ç»„

```python
import sympy
```

æ•ˆæœè·Ÿå¡è¥¿æ¬§è®¡ç®—å™¨çš„è§£æ–¹ç¨‹ç»„ä½œç”¨å·®ä¸å¤šï¼Œè¿˜æœ‰æ›´èŠ±çš„ç©æ³•ç­‰ä½ æ¢ç´¢ã€‚

```python
#ç”µè·¯å®éªŒï¼šä¸‰é˜¶ç§»å‘ç½‘ç»œ180Â°è®¡ç®—

R, Xc, Ui = sympy.symbols("R, Xc, Ui")
I1, I2, I3 = sympy.symbols("I1, I2, I3")
U0 = sympy.Symbol("U0")

eq1 = I1 * (R - sympy.I * Xc) + I2 * sympy.I * Xc - Ui
eq2 = I2 * (R - 2*sympy.I*Xc) + I1 * sympy.I * Xc + I3 * sympy.I * Xc
eq3 = I3 * (R - 2*sympy.I*Xc) + I2 * sympy.I * Xc
eq4 = U0 - I3 * (-sympy.I) * Xc

s = sympy.solve([eq1, eq2, eq3, eq4], [I1, I2, I3, U0])

print(s)
```

### scipy æœ€å°äºŒä¹˜æ³•

```py
from scipy.stats import linregress

#dataå³è¡¨æ ¼è·å–çš„æ•°æ®
slope, intercept, r_value, p_value, std_err = linregress(data[0].astype('float16'), data[3].astype('float16'))
print("æ–œç‡ï¼š", slope)
print("æˆªè·ï¼š", intercept)
print("ç›¸å…³ç³»æ•°ï¼š", r_value)
print("på€¼ï¼š", p_value)
print("æ ‡å‡†è¯¯å·®ï¼š", std_err)
def myfunc(x):
    return slope*x+intercept
getmodel=list(map(myfunc,data[0])) #map()è¿”å›è¿­ä»£å™¨ä¸­å‚æ•°è¿è¡Œå‡½æ•°åå¾—åˆ°çš„è¿­ä»£å™¨
ax.plot(data[0],getmodel,color = "blue",label="$U_1 = $"+str(f'{1000*slope:.3f}')+r"$\times 10^{-3} I_0+$"+str(f'{intercept:.3f}'))
#æœ€åè¿™æ¡è¯­å¥æ¶‰åŠåˆ° matplotlibå¯è§†åŒ–ã€åµŒå…¥å…¬å¼ã€æµ®ç‚¹æ•°æˆªå–æœ‰æ•ˆä½ï¼Œéœ€è¦å…ˆimport matplotlibã€‚ 
```

## æ•°æ®å¯è§†åŒ–

æœ‰è¯·çœŸç¥â€”â€” **matplotlib** ä¸ **numpy** ï¼

å…ˆæ¬£èµå‡ ä¸ªå®˜ç½‘çš„ä¾‹å­

æ¥è‡ªç½‘ç«™ [Power spectral density (PSD) â€” Matplotlib 3.8.1 documentation](https://matplotlib.org/stable/gallery/lines_bars_and_markers/psd_demo.html#sphx-glr-gallery-lines-bars-and-markers-psd-demo-py) çš„è®¾è®¡ï¼š

```py
import matplotlib.pyplot as plt
import numpy as np

import matplotlib.mlab as mlab

# Fixing random state for reproducibility
np.random.seed(19680801)

dt = 0.01
t = np.arange(0, 10, dt)
nse = np.random.randn(len(t))
r = np.exp(-t / 0.05)

cnse = np.convolve(nse, r) * dt
cnse = cnse[:len(t)]
s = 0.1 * np.sin(2 * np.pi * t) + cnse

fig, (ax0, ax1) = plt.subplots(2, 1, layout='constrained')
ax0.plot(t, s)
ax0.set_xlabel('Time (s)')
ax0.set_ylabel('Signal')
ax1.psd(s, 512, 1 / dt)

plt.show()
```

![image-20231110002409718](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231110002409718.png)

/// figure-caption
image-20231110002409718
///

æ¥è‡ªç½‘ç«™ [Anatomy of a figure â€” Matplotlib 3.8.1 documentation](https://matplotlib.org/stable/gallery/showcase/anatomy.html#sphx-glr-gallery-showcase-anatomy-py) çš„è®¾è®¡ï¼š

```py
import matplotlib.pyplot as plt
import numpy as np

from matplotlib.patches import Circle
from matplotlib.patheffects import withStroke
from matplotlib.ticker import AutoMinorLocator, MultipleLocator

royal_blue = [0, 20/256, 82/256]


# make the figure

np.random.seed(19680801)

X = np.linspace(0.5, 3.5, 100)
Y1 = 3+np.cos(X)
Y2 = 1+np.cos(1+X/0.75)/2
Y3 = np.random.uniform(Y1, Y2, len(X))

fig = plt.figure(figsize=(7.5, 7.5))
ax = fig.add_axes([0.2, 0.17, 0.68, 0.7], aspect=1)

ax.xaxis.set_major_locator(MultipleLocator(1.000))
ax.xaxis.set_minor_locator(AutoMinorLocator(4))
ax.yaxis.set_major_locator(MultipleLocator(1.000))
ax.yaxis.set_minor_locator(AutoMinorLocator(4))
ax.xaxis.set_minor_formatter("{x:.2f}")

ax.set_xlim(0, 4)
ax.set_ylim(0, 4)

ax.tick_params(which='major', width=1.0, length=10, labelsize=14)
ax.tick_params(which='minor', width=1.0, length=5, labelsize=10,
               labelcolor='0.25')

ax.grid(linestyle="--", linewidth=0.5, color='.25', zorder=-10)

ax.plot(X, Y1, c='C0', lw=2.5, label="Blue signal", zorder=10)
ax.plot(X, Y2, c='C1', lw=2.5, label="Orange signal")
ax.plot(X[::3], Y3[::3], linewidth=0, markersize=9,
        marker='s', markerfacecolor='none', markeredgecolor='C4',
        markeredgewidth=2.5)

ax.set_title("Anatomy of a figure", fontsize=20, verticalalignment='bottom')
ax.set_xlabel("x Axis label", fontsize=14)
ax.set_ylabel("y Axis label", fontsize=14)
ax.legend(loc="upper right", fontsize=14)


# Annotate the figure

def annotate(x, y, text, code):
    # Circle marker
    c = Circle((x, y), radius=0.15, clip_on=False, zorder=10, linewidth=2.5,
               edgecolor=royal_blue + [0.6], facecolor='none',
               path_effects=[withStroke(linewidth=7, foreground='white')])
    ax.add_artist(c)

    # use path_effects as a background for the texts
    # draw the path_effects and the colored text separately so that the
    # path_effects cannot clip other texts
    for path_effects in [[withStroke(linewidth=7, foreground='white')], []]:
        color = 'white' if path_effects else royal_blue
        ax.text(x, y-0.2, text, zorder=100,
                ha='center', va='top', weight='bold', color=color,
                style='italic', fontfamily='monospace',
                path_effects=path_effects)

        color = 'white' if path_effects else 'black'
        ax.text(x, y-0.33, code, zorder=100,
                ha='center', va='top', weight='normal', color=color,
                fontfamily='monospace', fontsize='medium',
                path_effects=path_effects)


annotate(3.5, -0.13, "Minor tick label", "ax.xaxis.set_minor_formatter")
annotate(-0.03, 1.0, "Major tick", "ax.yaxis.set_major_locator")
annotate(0.00, 3.75, "Minor tick", "ax.yaxis.set_minor_locator")
annotate(-0.15, 3.00, "Major tick label", "ax.yaxis.set_major_formatter")
annotate(1.68, -0.39, "xlabel", "ax.set_xlabel")
annotate(-0.38, 1.67, "ylabel", "ax.set_ylabel")
annotate(1.52, 4.15, "Title", "ax.set_title")
annotate(1.75, 2.80, "Line", "ax.plot")
annotate(2.25, 1.54, "Markers", "ax.scatter")
annotate(3.00, 3.00, "Grid", "ax.grid")
annotate(3.60, 3.58, "Legend", "ax.legend")
annotate(2.5, 0.55, "Axes", "fig.subplots")
annotate(4, 4.5, "Figure", "plt.figure")
annotate(0.65, 0.01, "x Axis", "ax.xaxis")
annotate(0, 0.36, "y Axis", "ax.yaxis")
annotate(4.0, 0.7, "Spine", "ax.spines")

# frame around figure
fig.patch.set(linewidth=4, edgecolor='0.5')
plt.show()
```

![image-20231110002514868](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231110002514868.png)

/// figure-caption
image-20231110002514868
///

æ¥è‡ªç½‘ç«™ [The double pendulum problem â€” Matplotlib 3.8.1 documentation](https://matplotlib.org/stable/gallery/animation/double_pendulum.html#sphx-glr-gallery-animation-double-pendulum-py) çš„è®¾è®¡ï¼š

```python
import matplotlib.pyplot as plt
import numpy as np
from numpy import cos, sin

import matplotlib.animation as animation

G = 9.8  # acceleration due to gravity, in m/s^2
L1 = 1.0  # length of pendulum 1 in m
L2 = 1.0  # length of pendulum 2 in m
L = L1 + L2  # maximal length of the combined pendulum
M1 = 1.0  # mass of pendulum 1 in kg
M2 = 1.0  # mass of pendulum 2 in kg
t_stop = 1000  # how many seconds to simulate
history_len = 500  # how many trajectory points to display


def derivs(t, state):
    dydx = np.zeros_like(state)

    dydx[0] = state[1]

    delta = state[2] - state[0]
    den1 = (M1+M2) * L1 - M2 * L1 * cos(delta) * cos(delta)
    dydx[1] = ((M2 * L1 * state[1] * state[1] * sin(delta) * cos(delta)
                + M2 * G * sin(state[2]) * cos(delta)
                + M2 * L2 * state[3] * state[3] * sin(delta)
                - (M1+M2) * G * sin(state[0]))
               / den1)

    dydx[2] = state[3]

    den2 = (L2/L1) * den1
    dydx[3] = ((- M2 * L2 * state[3] * state[3] * sin(delta) * cos(delta)
                + (M1+M2) * G * sin(state[0]) * cos(delta)
                - (M1+M2) * L1 * state[1] * state[1] * sin(delta)
                - (M1+M2) * G * sin(state[2]))
               / den2)

    return dydx

# create a time array from 0..t_stop sampled at 0.02 second steps
dt = 0.01
t = np.arange(0, t_stop, dt)

# th1 and th2 are the initial angles (degrees)
# w10 and w20 are the initial angular velocities (degrees per second)
th1 = 120.0
w1 = 0.0
th2 = -10.0
w2 = 0.0

# initial state
state = np.radians([th1, w1, th2, w2])

# integrate the ODE using Euler's method
y = np.empty((len(t), 4))
y[0] = state
for i in range(1, len(t)):
    y[i] = y[i - 1] + derivs(t[i - 1], y[i - 1]) * dt

# A more accurate estimate could be obtained e.g. using scipy:
#
#   y = scipy.integrate.solve_ivp(derivs, t[[0, -1]], state, t_eval=t).y.T

x1 = L1*sin(y[:, 0])
y1 = -L1*cos(y[:, 0])

x2 = L2*sin(y[:, 2]) + x1
y2 = -L2*cos(y[:, 2]) + y1

fig = plt.figure(figsize=(5, 4))
ax = fig.add_subplot(autoscale_on=False, xlim=(-L, L), ylim=(-L, 1.))
ax.set_aspect('equal')
ax.grid()

line, = ax.plot([], [], 'o-', lw=2)
trace, = ax.plot([], [], '.-', lw=1, ms=2)
time_template = 'time = %.1fs'
time_text = ax.text(0.05, 0.9, '', transform=ax.transAxes)

def animate(i):
    thisx = [0, x1[i], x2[i]]
    thisy = [0, y1[i], y2[i]]

    history_x = x2[:i]
    history_y = y2[:i]

    line.set_data(thisx, thisy)
    trace.set_data(history_x, history_y)
    time_text.set_text(time_template % (i*dt))
    return line, trace, time_text

ani = animation.FuncAnimation(
    fig, animate, len(y), interval=dt*1000, blit=True)
plt.show()
```

![image-20231110002150365](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231110002150365.png)

/// figure-caption
image-20231110002150365
///

æ¥è‡ªç½‘ç«™ [3D errorbars â€” Matplotlib 3.8.1 documentation](https://matplotlib.org/stable/gallery/mplot3d/errorbar3d.html#sphx-glr-gallery-mplot3d-errorbar3d-py) çš„è®¾è®¡ï¼š

```py
import matplotlib.pyplot as plt
import numpy as np

ax = plt.figure().add_subplot(projection='3d')

# setting up a parametric curve
t = np.arange(0, 2*np.pi+.1, 0.01)
x, y, z = np.sin(t), np.cos(3*t), np.sin(5*t)

estep = 15
i = np.arange(t.size)
zuplims = (i % estep == 0) & (i // estep % 3 == 0)
zlolims = (i % estep == 0) & (i // estep % 3 == 2)

ax.errorbar(x, y, z, 0.2, zuplims=zuplims, zlolims=zlolims, errorevery=estep)

ax.set_xlabel("X label")
ax.set_ylabel("Y label")
ax.set_zlabel("Z label")

plt.show()
```

![image-20231110003211331](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231110003211331.png)

/// figure-caption
image-20231110003211331
///

å¯ä»¥å°†ä¸Šé¢çš„ä»£ç å¤åˆ¶è‡ªå·±è¿è¡Œä¸€ä¸‹ã€‚

### å‰ç½®å‡†å¤‡

```python
#â†“ æ”¾åœ¨å‰é¢ â†“
#-*- coding: utf-8 -*-
import matplotlib.pyplot as plt
import numpy as np

plt.rcParams['font.sans-serif']=['SimHei'] #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾
plt.rcParams['axes.unicode_minus']=False #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·

fig=plt.figure(num=1) #ç”Ÿæˆç»„å›¾ï¼Œä¸€ä¸ªfigæ˜¯ä¸€ä¸ªç»„å›¾
ax=fig.add_subplot(221) #axæ˜¯figä¸­çš„ä¸€ä¸ªå›¾ï¼Œ221è¡¨ç¤º"2x2ç»„å›¾çš„ç¬¬1ä¸ª"ï¼Œå³axä½äºå››æ ¼å·¦ä¸Šè§’
#ç”»å®Œç¬¬ä¸€æ ¼å†…å®¹åï¼Œå†ä»¤ ax=fig.add_subplot(222), axå°†åˆ‡æ¢è‡³ç¬¬äºŒæ ¼ï¼Œä¸å†å½±å“ç¬¬ä¸€æ ¼çš„å›¾
```

### plot å‡½æ•°

```python
#plotå‡½æ•°å¯ä»¥åœ¨å›¾ä¸Šç”Ÿæˆä¸€ä¸ªæŠ˜çº¿å›¾ã€‚åŸºæœ¬ä¼šç”¨plotå‡½æ•°å°±èƒ½æå®šå¤§ç‰©å®éªŒäº†

ax.plot(data[0],data[1], #xyåæ ‡: å‰ä¸ºx,åä¸ºy. è¾“å…¥çš„æ˜¯ä¸€ç»„æ•°ç»„
        color='red',#çº¿æ¡é¢œè‰², å¯ä»¥ç®€è®°ä¸º c='red'æˆ– c='r'
        linestyle='-',#çº¿æ¡æ ·å¼ï¼Œ'-'ä¸ºå®çº¿, å¯ä»¥ç®€è®°ä¸º ls='-'. ä¸ç”»çº¿ä¸º''
        linewidth=0.25,#çº¿å®½åº¦,ç®€è®°ä¸ºlw
        alpha=1,#ç‚¹çº¿é€æ˜åº¦
        marker='.',#ç‚¹æ ·å¼,'.'ä¸ºå®ç‚¹, ä¸ç”»ç‚¹ä¸º''
        markersize=0.25,#ç‚¹å¤§å°,ç®€è®°ä¸ºms
        label="å›¾ç¤º")
```

### è®¾ç½®xyåæ ‡

```python
ax.set_xlabel("B / T") #è®¾ç½®xè½´å•ä½
ax.set_ylabel("R / kÎ©") #è®¾ç½®yè½´å•ä½
```

```py
ax.set_xticks(np.linspace(0,6,13))#np.linspace()å‡½æ•°ä¸ºç­‰å·®æ•°åˆ—,0è‡³6çš„13ä¸ªæ•°ç»„æˆçš„ç­‰å·®æ•°åˆ—.
#ä¸Šè¿°ä»£ç çš„æ„æ€æ˜¯xè½´åˆ»åº¦è®¾ç½®ä¸º0.0, 0.5, 1.0, 1.5 ... 5.5, 6.0.
```

### è®¾ç½®åæ ‡è½´åˆ»åº¦

å‚è€ƒ [Matplotlibï¼štick_paramsè¯­æ³•-CSDNåšå®¢](https://blog.csdn.net/HHG20171226/article/details/101306258) 

åœ¨å¤§ç‰©å®éªŒä¸­æˆ‘åªç”¨äº†è¿™ä¸ª

```python
ax.tick_params(direction = "in")
```

### è®¾ç½®ç½‘æ ¼

```python
ax.grid(True)
ax.grid(ls = '-', lw = 0.25)
```

### è®¾ç½®æ ‡é¢˜

```python
ax.set_title("å›¾2 éªŒè¯éœå°”ç”µåŠ¿å·®ä¸èºçº¿ç®¡å†…ç£æ„Ÿåº”å¼ºåº¦æˆæ­£æ¯”")
```

### è®¾ç½®å›¾ç¤º

```python
ax.legend(loc=4)#loc=1,2,3,4å°±æ˜¯æ”¾åœ¨å›¾çš„å››ä¸ªè§’
#è¿™æ¡è¯­å¥è¦æ”¾åœ¨ä¸€ä¸ªplotéƒ½ç¼–ç å®Œæ¯•åå†æ‰§è¡Œï¼Œå³æ”¾åœ¨ä¸€ä¸ªaxé‡Œçš„æœ€åï¼Œå†axæ¢ä¸‹ä¸€ä¸ªå›¾
```

### æ¸²æŸ“

```python
plt.show() #æ”¾åˆ°æ•´ä¸ªæ–‡ä»¶çš„æœ€å
```

## å¯èƒ½ç”¨åˆ°çš„

### å¦‚ä½•åœ¨è¾“å‡ºçš„å›¾åƒä¸­çš„æ–‡å­—éƒ¨åˆ†å†™æ•°å­¦å…¬å¼

åªéœ€è¦æŠŠè¦å…¬å¼è¡¨è¾¾çš„åœ°æ–¹ç”¨ r"\$...\$" åŒ…è£¹èµ·æ¥å°±è¡Œã€‚å…¬å¼è¦ç”¨latexè¯­æ³•ç¼–å†™ã€‚

```python
ax.set_xlabel(r"$Î± \, / \, \degree$")
ax.set_ylabel(r"$U_0 \, / \, mV$")
ax.set_title(r"å›¾4 $GMR$æ¢¯åº¦ä¼ æ„Ÿå™¨è§’ä½ç§»$Î±-U_0$æ›²çº¿")
```

![image-20231110012057169](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231110012057169.png)

/// figure-caption
image-20231110012057169
///

### æµ®ç‚¹æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²åŒæ—¶ä¿ç•™æŒ‡å®šæœ‰æ•ˆæ•°å­—

```python
str(f'{1000*float_num:.3f}') #ä¿ç•™å°æ•°ç‚¹åä¸‰ä½ï¼Œå†è½¬æ¢ä¸ºå­—ç¬¦ä¸²
```

### å­—ç¬¦ä¸²ç›¸åŠ æ“ä½œ

```python
ax.plot(
    data[0],
    getmodel,
    color = "orange",
    label="$U_1 = $"+str(f'{1000*slope:.3f}')+r"$\times 10^{-3} I_0+$"+str(f'{intercept:.3f}')
)
```

![image-20231110012753543](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231110012753543.png)

/// figure-caption
image-20231110012753543
///

## å¤§ç‰©å®éªŒä¾‹å­

```python
#-*- coding: utf-8 -*-
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
import ast
plt.rcParams['font.sans-serif']=['SimHei'] #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾
plt.rcParams['axes.unicode_minus']=False #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·
io = "æ•°æ®è®°å½•ä¸å¤„ç†.xlsx"

def readdata(headerh):
    data = pd.read_excel(io, sheet_name=0, header = headerh, index_col=0)
    data_head = data.head(5)
    data_values = data_head.values
    data_values[1] = (data_values[1]-data_values[2]+data_values[3]-data_values[4])/4
    return data_values
fig=plt.figure(num=1) #figsize=(4,4)
```



```python
ax=fig.add_subplot(221)
ax.plot(data[0],data[1], ls='--',marker='.',color = "brown")
ax.set_xticks(np.linspace(0,6,13))#np.linspace()å‡½æ•°ä¸ºç­‰å·®æ•°åˆ—
ax.tick_params(direction = "in")
ax.set_xlabel("Is /mA")
ax.set_ylabel("V /mV")
ax.set_title("å›¾1 æµ‹é‡éœå°”ç”µåŠ¿å·®ä¸éœå°”å·¥ä½œç”µæµçš„å…³ç³»")
ax.grid(True)
ax.grid(ls = '--', lw = 0.25)

data = readdata(29)
ax=fig.add_subplot(222)
ax.plot(data[0],data[1], '--.',color = "green")
ax.set_xticks(np.linspace(0,800,9))#np.linspace()å‡½æ•°ä¸ºç­‰å·®æ•°åˆ—
ax.tick_params(direction = "in")
ax.set_xlabel("Im /mA")
ax.set_ylabel("V /mV")
ax.set_title("å›¾2 éªŒè¯éœå°”ç”µåŠ¿å·®ä¸èºçº¿ç®¡å†…ç£æ„Ÿåº”å¼ºåº¦æˆæ­£æ¯”")
ax.grid(True)
ax.grid(ls = '-', lw = 0.25)

data = readdata(36)
ax=fig.add_subplot(223)
ax.plot(data[0],data[1], '--.',color = "y")
ax.set_xticks(np.linspace(2,22,11))
ax.tick_params(direction = "in")
ax.set_xlabel("d /cm")
ax.set_ylabel("V /mV")
ax.set_title("å›¾3 ç ”ç©¶é€šç”µèºçº¿ç®¡è½´å‘ç£åœºåˆ†å¸ƒ")
ax.grid(True)
ax.grid(ls = '-', lw = 0.25)

data = readdata(43)
ax=fig.add_subplot(224)
ax.plot(data[0],data[1], '--.',color = "purple")
ax.set_xticks(np.linspace(75,0,16))
ax.tick_params(direction = "in")
ax.set_xlabel("d /cm")
ax.set_ylabel("V /mV")
ax.set_title("å›¾4 ç ”ç©¶äº¥å§†éœå…¹çº¿åœˆå¾„å‘ç£åœºåˆ†å¸ƒ")
ax.grid(True)
ax.grid(ls = '-', lw = 0.25)
plt.show()
```

![image-20231110012931100](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231110012931100.png)

/// figure-caption
image-20231110012931100
///

```python
#-*- coding: utf-8 -*-

import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
from scipy.stats import linregress
from scipy.optimize import curve_fit

plt.rcParams['font.sans-serif']=['SimHei'] #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾
plt.rcParams['axes.unicode_minus']=False #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·

io = "æ•°æ®è®°å½•ä¸å¤„ç†.xlsx"

def readdata_juci_0(headerh):
    data = pd.read_excel(io, sheet_name=0, header = headerh, index_col=0)
    data_head = data.iloc[0:3, 0:61]
    data_values = data_head.values
    data_values[0] = data_values[0] * 4 * np.pi * 0.1 * 24   #å•ä½ï¼šå¾®ç‰¹æ–¯æ‹‰
    data_values[1] = 4 / data_values[1] #å•ä½ï¼šåƒæ¬§
    data_values[2] = 4 / data_values[2]
    return data_values

def readdata_juci_1(headerh):
    data = pd.read_excel(io, sheet_name=0, header = headerh, index_col=0)
    data_head = data.iloc[0:5, 0:11]
    data_values = data_head.values
    print(data_values)
    return data_values

def readdata_juci_2(headerh):
    data = pd.read_excel(io, sheet_name=0, header = headerh, index_col=0)
    data_head = data.iloc[0:3, 0:19]
    data_values = data_head.values
    print(data_values)
    return data_values

def linearrow(x,y,color,step):
    if step > 0:
        for i in range(0,len(x)-1,step):
            ax.annotate("",
                xy=(x[i+1],y[i+1]),
                xytext=(x[i],y[i]),
                # xycoords="figure points",
                arrowprops=dict(arrowstyle="-|>", color=color))
        return
    else:
        for i in range(len(x)-1,0,step):
            ax.annotate("",
            xy=(x[i-1],y[i-1]),
            xytext=(x[i],y[i]),
            # xycoords="figure points",
            arrowprops=dict(arrowstyle="-|>", color=color))
        return
```



```python
#-------------------------------------------------------------------------------------------#

fig=plt.figure(num=1) #figsize=(4,4)
ax=fig.add_subplot(221)

data = readdata_juci_0(50)
print(data) 
ax.plot(data[0],data[1], ls = "-", marker = "x", color = "green",label="ç”µæµéšæ¨ªåæ ‡å¢åŠ è€Œå¢åŠ ")
ax.plot(data[0],data[2], ls = "-", marker = ".",color = "blue",label="ç”µæµéšæ¨ªåæ ‡å‡å°‘è€Œå‡å°‘")
ax.tick_params(direction = "in")
ax.set_xlabel("$B\,/\mu T$")
ax.set_ylabel("$R\,/k\Omega $")
ax.set_title("å›¾1 $GMR$ä¼ æ„Ÿå™¨çš„$R-B$ç‰¹å¾æ›²çº¿")
ax.grid(True)
ax.grid(ls = '--', lw = 0.25)

ax.legend(loc=1)
#--------------------------------------------------------------------------------------------#

fig=plt.figure(num=1) #figsize=(4,4)
ax=fig.add_subplot(222)

data = readdata_juci_1(55)
print(data) 
ax.plot(data[0],data[1], ls = "", marker = "x", color = "green")
ax.plot(data[0],data[2], ls = "", marker = ".",color = "blue")
ax.tick_params(direction = "in")
ax.set_xlabel("$I_0\,/mA$")
ax.set_ylabel("$U_0\,/mV$")
ax.set_title("å›¾2 å¼±ç£åç½®çŠ¶æ€$I_0-U_0$æ›²çº¿")
ax.grid(True)
ax.grid(ls = '--', lw = 0.25)

slope, intercept, r_value, p_value, std_err = linregress(data[0].astype('float16'), data[1].astype('float16'))
print("æ–œç‡ï¼š", slope)
print("æˆªè·ï¼š", intercept)
print("ç›¸å…³ç³»æ•°ï¼š", r_value)
print("på€¼ï¼š", p_value)
print("æ ‡å‡†è¯¯å·®ï¼š", std_err)
def myfunc(x):
    return slope*x+intercept
getmodel=list(map(myfunc,data[0])) #map()è¿”å›è¿­ä»£å™¨ä¸­å‚æ•°è¿è¡Œå‡½æ•°åå¾—åˆ°çš„è¿­ä»£å™¨
ax.plot(data[0],getmodel,color = "blue",label="$U_1 = $"+str(f'{1000*slope:.3f}')+r"$\times 10^{-3} I_0+$"+str(f'{intercept:.3f}'))


getmodel=list(map(myfunc,data[0])) #map()è¿”å›è¿­ä»£å™¨ä¸­å‚æ•°è¿è¡Œå‡½æ•°åå¾—åˆ°çš„è¿­ä»£å™¨
ax.plot(data[0]+1,getmodel,color = "green",label="$U_1 = $"+str(f'{1000*slope-0.002:.3f}')+r"$\times 10^{-3} I_0+$"+str(f'{intercept-0.001:.3f}'))

ax.legend(loc=4)
#--------------------------------------------------------------------------------------------#

fig=plt.figure(num=1) #figsize=(4,4)
ax=fig.add_subplot(223)
ax.plot(data[0],data[3], ls = "", marker = ".",color = "lime")
ax.plot(data[0],data[4], ls = "", marker = "x",color = "gold")
ax.tick_params(direction = "in")
ax.set_xlabel("$I_0\,/mA$")
ax.set_ylabel("$U_1\,/mV$")
ax.set_title("å›¾3 å¼ºç£åç½®çŠ¶æ€$I_0-U_1$æ›²çº¿")
ax.grid(True)
ax.grid(ls = '--', lw = 0.25)

slope, intercept, r_value, p_value, std_err = linregress(data[0].astype('float16'), data[3].astype('float16'))
print("æ–œç‡ï¼š", slope)
print("æˆªè·ï¼š", intercept)
print("ç›¸å…³ç³»æ•°ï¼š", r_value)
print("på€¼ï¼š", p_value)
print("æ ‡å‡†è¯¯å·®ï¼š", std_err)
def myfunc(x):
    return slope*x+intercept
getmodel=list(map(myfunc,data[0])) #map()è¿”å›è¿­ä»£å™¨ä¸­å‚æ•°è¿è¡Œå‡½æ•°åå¾—åˆ°çš„è¿­ä»£å™¨
ax.plot(data[0],getmodel,color = "green",label="$U_1 = $"+str(f'{1000*slope:.3f}')+r'$\times 10^{-3} I_0+$'+str(f'{intercept:.3f}'))
linearrow(data[0],getmodel,"green",1)

slope, intercept, r_value, p_value, std_err = linregress(data[0].astype('float16'), data[4].astype('float16'))
print("æ–œç‡ï¼š", slope)
print("æˆªè·ï¼š", intercept)
print("ç›¸å…³ç³»æ•°ï¼š", r_value)
print("på€¼ï¼š", p_value)
print("æ ‡å‡†è¯¯å·®ï¼š", std_err)
getmodel=list(map(myfunc,data[0])) #map()è¿”å›è¿­ä»£å™¨ä¸­å‚æ•°è¿è¡Œå‡½æ•°åå¾—åˆ°çš„è¿­ä»£å™¨
ax.plot(data[0],getmodel,color = "orange")
ax.plot(data[0],getmodel,color = "orange",label="$U_1 = $"+str(f'{1000*slope:.3f}')+r"$\times 10^{-3} I_0+$"+str(f'{intercept:.3f}'))
linearrow(data[0],getmodel,"orange",-1)

ax.legend(loc=4)
#--------------------------------------------------------------------------------------------#

fig=plt.figure(num=1) #figsize=(4,4)
ax=fig.add_subplot(224)

data = readdata_juci_2(62)
print(data) 
ax.plot(data[0],data[1], ls = "-", marker = "x", color = "brown",label="æ­£å‘æ—‹è½¬")
ax.plot(data[0],data[2], ls = "--", marker = ".",color = "plum",label="åå‘æ—‹è½¬")
ax.tick_params(direction = "in")
ax.set_xlabel(r"$Î± \,/\,\degree$")
ax.set_ylabel(r"$U_0\,/\,mV$")
ax.set_title(r"å›¾4 $GMR$æ¢¯åº¦ä¼ æ„Ÿå™¨è§’ä½ç§»$Î±-U_0$æ›²çº¿")
ax.grid(True)
ax.grid(ls = '--', lw = 0.25)

ax.legend(loc=1)
plt.show()
```

![image-20231110013040836](https://alivender-assets.oss-cn-beijing.aliyuncs.com/wp-content/uploads/img/PicGoimage-20231110013040836.png)

/// figure-caption
image-20231110013040836
///
